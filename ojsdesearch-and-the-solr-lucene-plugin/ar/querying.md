# الاستعلام

## إدخال الاستعلام واقتراح تلقائي

سيتم إرسال استعلامات البحث المدخلة في حقول البحث إلى خادم OJS كطلبات POST. وهذا لا يختلف عن تنفيذ البحث الحالي. سيبدأ OJS بعد ذلك طلب HTTP متداخل إلى خادم المورد الذي سيقوم بإرجاع معرفات المقالات المطابقة و \(إذا تم تمكين\) معلومات بحث متقدمة كتسليط الضوء، اقتراحات تهجئة بديلة، مقالات مماثلة، إلخ.

وسيتمكن المكتب من الوصول إلى قاعدة بيانات المقالات الخاصة به لعرض مجموعة النتائج. ويعمل ذلك بالضبط بنفس الطريقة التي يعمل بها تنفيذ البحث الحالي لمكتب العدل والمساواة. والفرق الوحيد هو أن بطاقات تعريف المادة تُقدم من قبل الشركة الواحدة بدلا من استرجاعها من تنفيذ مؤشر OJS نفسه.

يمكن الحصول على الاقتراحات التلقائية من عمليات البحث المسبقة الوجوه، أو من عنصر مقترح قائم على القواميس أو من عمليات البحث عن المصطلحات. في جميع الحالات يجب إرسال طلبات البحث AJAX إلى عملية معالج محددة من OJS على كل خط مفاتيح في أحد حقول البحث. ثم يقوم معالج OJS بتفويض داخلي إلى نقطة نهاية البحث الخاصة بوحدة OJS وإرجاع النتائج إلى متصفح عميل OJS. هذا يتطلب منا تنفيذ عملية معالج OJS محددة للمقترحات التلقائية بالإضافة إلى رمز عميل JavaScript المقابل والذي يمكن أن يستند إلى إطار جافا سكريبت الخاص ب PKP.

وتتميز عمليات البحث عن الأوجه المثبتة مسبقا بأنها تقترح فقط عمليات بحث من شأنها أن تعود بنتائج فعلية. بل يمكنهم أن يطلعوا على عدد الوثائق التي سترد لكل استفسار بحث مقترح. والمشكلة في عمليات البحث ذات الوجوه المحددة مسبقا هي أنها لا تحدد نطاقها خطيا عند البحث في فهارس كبيرة. وتتسم عمليات البحث المقترحة بالسرعة البالغة لأنها يمكن توفيرها تقريبا دون معالجة من قاموس محسوب مسبقا. يجب أن نقدم حقول قاموس منفصلة لكل حقل بحث نريد تمكينه لاقتراحه تلقائياً. وهذه الميادين لها نفس المتطلبات فيما يتعلق بنموذج البيانات وعملية التحليل التي تنطوي عليها الاقتراحات البديلة المتعلقة بالتهجئة. للاطلاع على التفاصيل، انظر نموذج البيانات والفصول المقابلة لذلك/التهجئة.

ونحن نوصي بتنفيذ كلا الاقتراحات، ذات الوجه المسبق والاقتراحات التلقائية. اقتراحات الوجه المثبتة مسبقا يجب أن تكون الافتراضية. وإذا تبين أن عمليات البحث عن الأوجه المحددة سلفا لا توفر الأداء اللازم في سيناريو نشر معين، فإن الانتقال من تنفيذ إلى آخر ينبغي أن يتطلب شيئا من إعادة التشكيل وعدم بذل أي جهد في البرمجة. ومعظم جهود التنفيذ تكمن في معالج جافا سكريبت الأمامي ومسؤول العدالة والأمن وهما نفس المعالجين بالنسبة لكل من التطبيقات المقترحة تلقائياً باستثناء بعض بارامترات البحث. ونحن لا ننظر في الإمكانية الثالثة للحصول على اقتراحات: البحث عن مصطلحات. فعمليات البحث عن المصطلحات لا توفر ميزة كبيرة على عمليات البحث المقترحة ولكنها أقل مرونة.

## تحليل الاستعلام

توفر سولر عددا كبيرا من حدائق الاستفسار. الخيارات البارزة في حالتنا هي: "لوسين" \(بناء استعلام Lucene الافتراضي\)، "dismax" \(يوفر صيغة استعلام مبسطة ويسمح بضبط إضافي دقيق لمعلمات الاستعلام، e. . مصطلحي التعزيز\) و "edismax" اللذين يحسنان تفاصيل التنفيذ والسلامة.

ولسوء الطالع، لا يوجد أي من حدائق الاستفسار هذه يقابل احتياجاتنا حاليا بنسبة 100%. المتطلبات الإشكالية هي "AND" و "البحث عبر اللغات" و "البحث المتقدم المتعدد الحقول و "قوائم كلمات التوقف الخاصة بلغة محددة" و الدعم الكامل لكلمة الاستعلام الرئيسية "NOT".

ويدعم منبر "الحظ" ضمنيا ومن ثم سيكون خيارا محتملا في حالتنا. ومع ذلك، للأسف، فإنها لا تنفذ استفسارات متعددة الميادين. البحث الميداني يمكن أن يتم فقط حقل واحد في كل مرة. ويمكن للمرء أن يفعل شيئا مثل:

```
   .../defType=lucene
&
q=field1:(بعض العبارة) أو حقل 2:(بعض العبارة)

```

لتنفيذ الاستفسارات المتعددة الحقول. غير أن لهذا تأثيرات جانبية غير متوقعة عند الاستفسار عن عدم التوقع. تخيل مقال يحمل العنوان التالي بلغتين: النسخة الألمانية هي "Kanzlerin Merkel und die Eurokrise" والنص الإنكليزي هو "Chancor Merkel and the Euro Crisis". الآن بعض المستخدمين الذين لا يريدون أي مقالة لتذكيره بكارثة حافظة الأسهم الشخصية قد يستفسر عن "ميركل لا يوروكريس". ثم يوسع نطاق هذا الاستفسار ليشمل ما يلي:

```
   .../defType=lucene
&
q=title_de_DE:(Merkel No Eurokrise) أو title_en_US:(Merkel No Eurokrise)

```

وفي حين أن البحث الميداني الأول لم يسفر عن أي نتائج، فإن البحث الميداني الثاني سيسفر عنه بالتأكيد. ويحتوي العنوان الإنكليزي على كلمة "Merkel" ولكن ليس على كلمة "Eurokrise". و سيصبح "LSE OR TRUE" "TRUE" بشكل عام بحيث تتطابق المقالة. وفي حين أن هذا قد يكون منطقيا من الناحية الفنية، فإنه يؤدي إلى نتائج غير بديهية من الناحية العملية.

من حيث المبدأ فإن الاستعلام المتعدد الحقول لحلوى "edismax" يمكن أن يأتي للإنقاذ. تحويل الاستعلام أعلاه إلى:

```
   .../defType=edismax
&
q=Merkel No Eurokigh
&
qf=title_de_DE title_en_US

```

وتأتي بالنتيجة المتوقعة. الآن يتم التعامل مع الحقلين كما لو كانا متلازمين.

وبصرف النظر عن ذلك المنبر "edismax" له مزايا أخرى على منصة "Lucene": لديه الميزات الأكثر تقدماً لمقدمي OJS لتخصيص مناولة البحث، هو. . فيما يتعلق بتعزيز الحقل أو المستند. كما أنه يغفر أكثر عن إدخال المستخدم الخاطئ وسيعود بكرم إلى البحث عن كلمة مفتاحية بسيطة في حالة وجود أخطاء في بناء الجملة في الاستفسار.

المشكلة هي أن "edismax" \(و "dismax" أيضا\) لا تدعم عبارات البحث الضمنية أو معا. يمكن أن يؤدي تعيين معلمة "edismax" الدقيقة إلى 100% إلى محاكاة الضمنية و لكن لسوء الحظ هو خطأ عند استخدامها مع البحث الميداني. وهذا يعني أن:

```
   .../defType=edismax
&
q=(Merkel Eurokrise)
&
qf=title_de_DE title_en_US
&
mm=100%

```

يعمل كما هو متوقع ولكن

```
   .../defType=edismax
&
q=(Merkel Eurokrise) +journal_id:test-inst-2
&
qf=title_de_DE title_en_US
&
mm=100%

```

ليس كما أن معلمة Min-match ستتوقف فجأة عن العمل عند استخدامها بالاقتران مع استعلام ميداني. انظر[http://lucene.472066.n3.nabble.com/Dismax-mm-per-field d-td3222594.html](http://lucene.472066.n3.nabble.com/Dismax-mm-per-field-td3222594.html). والواقع أن المشكلة أسوأ مما ورد وصفها في المادة المذكورة كما يتضح من مثالنا. سيتوقف معلمة Min-match عن العمل حتى للاستعلام الرئيسي عند إضافة استعلام حقل مستقل تماما.

ومع ذلك، يمكن معالجة هذه المشكلة مع الاستفسارات الفرعية. عند إعادة صياغة الاستفسار أعلاه كما يلي:

```
   .../q=_query_:"{!edismax qf='title_de_DE title_en_US' v='Merkel Eurokrise'}' +journal_id:test-inst-2 +inst_id:test-<unk>
&
mm=100%

```

كل شيء سيعمل كما هو متوقع. الاستفسارات الفرعية لها ميزة إضافية هي أنها تمكن الاستفسارات المتقدمة متعددة اللغات التي تتطلب منا الاستعلام عن قوائم حقول مختلفة مع عبارات بحث فردية، مثل هذا:

```
   .../q=_query_:"{!edismax qf='title_de_DE title_en_US' v='Merkel Eurokrise'}" _query_:"{!edismax qf='subject_de_DE subject_en_US' v='Obama'}" +journal_id:test-inst-2 +inst_id:test-inst
&
mm=100%

```

لماذا لا تفعل ذلك هكذا؟ المشكلة هي مجموعة أخرى من معلمة اللمسات الدقيقة: إنها لا تعمل كما هو متوقع عند استخدامها بالاقتران مع قوائم كلمات التوقف. البحث عن "Die Eurokrise" في المثال أعلاه لن يعيد أي نتائج لأن "die" هي كلمة توقف ألمانية ولكنها ليست على قائمة كلمات التوقف عن الإنكليزية. سيتم تحويل الاستعلام داخليا إلى شيء مثل هذا \(مبسط!\):

```
   +title_en_US:die +(title_de_DE:Eurokrise OR title_en_US:Eurokrise)

```

Edismax سوف "تحسين" الاستعلام عن طريق إزالة الكلمة التوقف "die" من الاستعلام على العنوان الألماني. على أن إعداد "100%" للمطابقة سيجعل جميع أجزاء الاستعلام إلزامية. ومن الواضح الآن أنه لن يكون هناك تطابق بين مصطلح البحث الأول في مثالنا. وكأن عبارة البحث هذه تحمل علامة "إلزامية" من خلال إعدادنا لمطابقة المناجم، ولن يتم اختيار هذه المادة لمجموعة النتائج وإن كانت وثيقة الصلة بالتأكيد. انظر [http://lucene.472066.n3.nabble.com/Dismax-Minimum-Match-Stopwords-Bug-td493483.html](http://lucene.472066.n3.nabble.com/Dismax-Minimum-Match-Stopwords-Bug-td493483.html)و[https://bibwild.wordpress.com/2010/04/14/solr-stop-wordsdismax-gotcha/](https://bibwild.wordpress.com/2010/04/14/solr-stop-wordsdismax-gotcha/)للحصول على التفاصيل.

الحلول التي يقترحها مطورو سول هي إما إزالة قوائم الكلمات المؤقتة كلية. استخدم نفس قائمة الكلمة المؤقتة لجميع الحقول \(تعليم اللغات\) أو استخدم إعدادات دقيقة "1" \`1`. . ضمنيا OR). ولا يتفق أي من هذه الحلول مع متطلباتنا.

وبعبارة أخرى: لا توجد حاليا طريقة معروفة لتنفيذ جميع متطلباتنا مع مجمعات استعلامات الاستفسار الخاصة بالمبيدات الموجودة حاليا.

وهذا يترك أمامنا الخيارات التالية:

1. إسقاط شرط "الانبعاث الأنتيلي الضمني". هذا يعني أنه يمكننا تعيين edismax "min-match" إلى 1 التي ستعمل حول مشكلة الكلمة المؤقتة أثناء التعامل بشكل صحيح مع استفسارات "NOT" والبحث عبر اللغات. وبالإضافة إلى ذلك، سيتمكن مقدمو الخدمات بعد ذلك من استخدام ميزات إعداد مجموعة النتائج المتقدمة الخاصة بـ edismax.
2. إسقاط مطلب تنفيذ قوائم كلمات توقف خاصة بكل لغة: يمكننا تنفيذ قائمة واحدة لكلمات توقف عبر جميع اللغات \(أو لا قائمة كلمات توقف على الإطلاق\) والتي ستسمح لنا باستخدام إعداد "100%" لمطابقة كلمة توقف واحدة والتي ستعمل ضمنيا في معظم الحالات مع edismax. وبعد ذلك سيتم دعم البحث عبر اللغات، والبحث المتقدم المتعدد الحقول و "لا" حسب الحاجة.
3. إسقاط شرط البحث عبر اللغات: يمكننا تنفيذ ذلك بتوفير مربع إسقاط في البحث عن واجهة المستخدم لتحديد اللغة التي سيتم البحث عنها. إذا فعلنا ذلك، يمكننا أن نفعل ذلك بدون عمليات البحث عبر اللغات التي ستجلب إلى منصة الاستعلام "المحظوظة" مرة أخرى في الاعتبار. يمكننا تنفيذ البحث المتعدد الحقول \(أي "جميع الحقول" و "فهرس المصطلحات"\) عن طريق فهرسة الحقول "مجتمعة" التي تتوافق مصطلحات الفهرسة من عدة حقول. ومثل هذا التوافق غير ممكن عبر اللغات لأن المورد يحتاج إلى حقول منفصلة لسلسلة تحليل منفصلة. هذا الخيار سيحل المشاكل مع عمليات البحث التي تحتوي على كلمة "لا" الرئيسية وأيضاً قم بعمل "AND الضمني" بشكل صحيح.
4. إسقاط شرط تقديم الدعم الكامل لمشغل "ملاحظة": عندئذ سيكون الحل المقترح هو استخدام منبر "حظاً" إلى جانب عمليات البحث الميدانية ذات الصلة بالبحث الميداني كما هو موضح في مثالنا الأول.

لقد أمرت بالاقتراحات وفقا لحكمنا الحالي حول "أفضل الاستخدام" للمستخدم النهائي. قد يكون "الضمني" خروجاً عن متطلبات OJS الحالية ولكن بالتأكيد هو ما سبق أن استخدمه معظم المستخدمين، مثلاً من عمليات البحث في جوجل. ومن المنطقي بالنسبة للبحث في SQL الذي يقوم به OJS حيث أنه لا ينفذ آلية ترتيب فعالة جدا. مع تحسن نتائج خوارزمية التصنيف في سول التي تطابق الاستعلام جزئيا فقط ستظهر أقل في القائمة بحيث أن أول عدد قليل من الزيارات في القائمة يجب أن تكون بالضبط تلك التي تحتوي على جميع مصطلحات البحث. ولذلك يبدو أن إسقاط شرط "الانبعاث الضمني" لا يؤثر تقريباً على قابلية الاستخدام أو أنه قد يحسن إمكانية الاستخدام بزيادة الاستدعاء مع الحفاظ على الدقة من خلال ترتيب النتائج الذكية.

تستخدم قوائم الكلمات المحظورة أساسا لتحسين أداء الاستفسار. ولن تؤثر إزالة قوائم كلمات التوقف إلا تأثيرا هامشيا على النتائج من منظور المستخدم. غير أنه من المحتمل أن ينقص التذكير مما قد يقلل من أهمية النتائج الإجمالية.

ومن التغييرات الواضحة للغاية التي طرأت على تنفيذ البحث الحالي والتي ستؤثر سلبا على إمكانية الاستخدام، إدخال تسرب اللغة للاستفسارات أو لم تعد تدعم مشغل نظام "NOT". ولذلك فإننا لا نوصي بهذه الخيارات.

## البطاقات البرية والضرب

وهناك مشكلة معروفة تتمثل في عدم وجود دعم لترشيح التحليل للبطاقات البرية. ولا يجري تحليل البطاقات البرية بنفس الطريقة التي يتم بها تحليل الاستفسارات العادية. وقد تحسن الدعم المقدم للبطاقات البرية تحسنا كبيرا في المبنى 3.6. ▫ يمكن الآن للفلاتر في سلسلة التحليل أن تدعم واجهة "متعددة المصطلحات" الخاصة التي ستتعامل مع تحويل البطاقات البرية. ومع ذلك، ليس هناك العديد من الفلاتر التي تدعم هذه الواجهة.

وستيمرز، على وجه الخصوص، لن تتمكن على الأرجح من القيام بأي شيء بشأن شروط البطاقات البرية في المستقبل المنظور. لا يمكن وقف المصطلحات التي تحتوي على البطاقات البرية حيث أن البلاستيك المعتاد يحتاج إلى أن تكون الكلمة كلها موجودة. وهذا يعني أن استفسارات البطاقات البرية لن تتطابق في كثير من الأحيان مع إدخالات المؤشر المربع. إذا كانت كلمتا "علمي" و "علمي" كلتاهما موجهتان إلى "علمية" فإن البحث "علمي" لن يجد أي منهما. قد لا تكون هذه مشكلة كبيرة في لغة مثل الإنكليزية حيث تؤدي إلى نتائج طيبة. وفي اللغات الألمانية والفرنسية واللغات الأخرى ذات الأشكال النحوية الأكثر قابلية للتغيير، قد يكون من الضروري أن يكون القضاء أكثر عدوانية. وفي هذه الحالة، يمكن أن يؤدي الجمع بين البطاقات البرية والضرب إلى مشاكل واضحة تماماً.

وهذا التضارب المستهدف في التسامح إزاء الأشكال النحوية المتباينة للكلمة نفسها والدعم للاستفسارات المتعلقة بالبطاقات البرية لا يمكن حله بالكامل باستخدام التكنولوجيا الحالية للموسيقين. ولذلك فإننا نحاول التوصل إلى حل وسط باستخدام محركات خفيفة والتغاضي عن قدر معين من السلبيات الزائفة في نتائج بحثنا.

## تحليل الاستفسارات وحقن المرادف

ونوصي لأغراض الاستفسار بأن يتم تحليل الاستفسار بالضبط بنفس الطريقة التي يتم بها تحليل حقول المستندات المستفسرة في وقت الفهرسة. ولذلك ليس هناك الكثير مما يمكن قوله عن تحليل الاستفسارات الذي لم يرد من قبل في الفصل التحليلي. وهناك استثناء واحد ممكن من هذه القاعدة: قد نريد النظر في حقن مرادفات في وقت الاستفسار. وهذا يعني أنه يمكن إضافة عنصر تحليل إضافي إلى محلل الاستفسارات الذي يقوم بالتحقق من المرادفات، إما في موسيقى ثابتة ومحتفظ بها يدوياً مخصصة للغات أو في مصادر على الإنترنت مثل ووردنيت. وكلما وجد مرادف، سيتم حقنه في تيار الرمز المميز ويتم التعامل معه كما لو أنه كان جزءا من الاستعلام الأصلي. وما إذا كان ينبغي تنفيذ حقن مرادفات على جانب الاستفسار من عدمه، وما هو المصدر الذي سيقرره مالك المشروع.

## الترتيب

يتم تصنيف مقالات OJS من خلال خوارزمية الترتيب الافتراضي لسل/لوسين. ويطلق على الخوارزمية اسم "التردد - التردد العكسي للوثائق" أو "TF-IDF" لفترة قصيرة وسيتم إيجازها في الفقرات القليلة المقبلة. تفاصيل لخوارزميات التصنيف الخاصة بالحصص بعيدة عن نطاق هذه الوثيقة ويمكن البحث عنها في وثائق لوسين، فوق كل شيء في جافادوك من فئة "الشبهة" القياسية.

### تردد المدة

مصطلح التردد TF\(t, d\) هو عدد المرات التي يحدث فيها المصطلح t في مستند معين.

### تردد الوثيقة العكسي

التواتر العكسي للمستند للمصطلح (t) في الفهرس هو:

IDF\(t\) = log\(N / DF\(t\)\)

حيث:

* t هو مصطلح قاموس تعسفي
* (ن) هي العدد الإجمالي للوثائق المدرجة في فهرس. وفي وثائق لوسين، يشار عادة إلى هذا التدبير على أنه "الحد الأقصى للقيمة".
* DF\(t\) هو تكرار المستند للمصطلح t في فهرس. ويعرّف تواتر الوثائق بأنه عدد الوثائق التي تحتوي على المصطلح مرة واحدة أو أكثر. في لوسين عادة ما يسمى "docFreq".

ملاحظة: قوات الدفاع الإسرائيلية محدودة إذا كان كل حكم من أحكام القاموس يحدث مرة واحدة على الأقل في مجموعة المستندات \(ثم DF\(t\) &gt; 0\). وإذا وضعنا قاموسنا حصرا من مجموعة الوثائق ذاتها، فإن ذلك مضمون ويتم تعريف جيش الدفاع الإسرائيلي في كل مكان.

### مصطلحات / تردد معكوس للمستند

الترتيب في لوسين هو بعض المتغير للمصطلح/تردد المستند العكسي:

TF-IDF\(t, d\) = TF\(t, d\) \* IDF\(t\)

ملحوظة: قوة الدفاع الإسرائيلية هي صفر إذا لم تتضمن الوثيقة المصطلح. وإذا كان القاموس يتضمن مصطلحات غير واردة في مجموعة الوثائق، فإن القوة المؤقتة - قوات الدفاع الإسرائيلية تعرف بأنها صفر لهذا المصطلح بالنسبة لجميع الوثائق. ويمكننا عادة تجنب ذلك عن طريق بناء قاموسنا حصرا من مجموعة الوثائق.

### مقياس النقاط المتداخلة

النتيجة\(q, d\) هي المبلغ فوق كل t في q من TF-IDF\(t, d\) حيث q هو مجموعة جميع المصطلحات في استعلام البحث.

وبعبارة أخرى: يُسهم مصطلح البحث بأعلى درجة في ترتيب الوثيقة لاستفسار بحث معين عندما يحدث المصطلح في وثيقة من الوثائق، ويكون للمصطلح دلالة تمييزية كبيرة في مجموعة الوثائق باختيار نسبة مئوية صغيرة من وثائق المجموعة فقط.

وفي لوسين يتم تسجيل استفسارات البحث بعبارات متعددة باستخدام "عامل تنسيق" يعمل بشكل مماثل للنهج الذي تم تحديده للتو. يحسب لوسين نتيجة لكل حقل لاستخلاص نتيجة لمستوى المستند. Lucene أيضا يعدل نهج الترتيب البسيط هذا للتخصيص السهل \(على سبيل المثال التعزيز، التعزيز الميداني، تعزيز المستند، إلخ.\) والكفاءة.

### نموذج فضائي ناقل

منظور آخر لخوارزمية تسجيل لوسين هو عن طريق نمذجة المستندات على أنها ناقلات مصطلحات في مساحة ناقلة تغطي جميع مصطلحات القاموس. بمزيد من الدقة: إذا كان DD عبارة عن مجموعة من المصطلحات \(أي (أ) "قاموس"\) ثم يمكن تصميم مستند واحد على أنه ناقل V\(d\) في فضاء ناقل بطاقة/(D\)-بعيد.

على سبيل المثال: عند استخدام قوة الدفاع الإسرائيلية كتدبير لتحديد الدرجات، فإن العنصر نون من الناقل الذي تنتجه وظيفة الناقل V\(d\) هو قوة الدفاع الإسرائيلية في الوثيقة المتعلقة بمصطلح القاموس ن.

في هذا النموذج يمكن تعريف مقياس تشابه \(أو بعيد\) يحسب تشابه وثيقتين \(أو مستند واستفسار\).

وثمة مقياس شبيه شائع يتمثل في التشابه بين الفئات:

sim\(d1, d2\) = V\(d1\) . V\(d2\) / \<unk> V\(d1\)\<unk> \<unk> V\(d2\)\<unk>

حيث النقطة \(.\) تمثل ناقل المنتج \(المنتج الداخلي\) و \<unk> \<unk> هي قاعدة Euclidean. هذا يساوي المنتج الداخلي لـ V\(d1\) و V\(d2\) الذي تم تطبيعه إلى طول الوحدة.

وتتمثل ميزة هذا النموذج في أنه لا يمكن حساب المسافات وأوجه التشابه بين الوثائق فحسب، بل أيضا بين استفسار البحث والمستند بسهولة على النحو التالي:

sim\(d, q\) == v\(d\) . v\(q\)

حيث v\(\) يعني ناقل المستند V\(\) الذي تم تطبيعه إلى طول الوحدة.

ملحوظة: تعتمد خاصية "أشبه بهذا" على الحسابات المتشابهة بين الوثائق. ولذلك فإنه يتطلب تخزين ناقلات المصطلح في الفهرس.

### ضبط الترتيب بشكل جيد

بشكل افتراضي نحن لا نغير أي عوامل ترتيب مكيفة مسبقا. باستخدام تحليل الاستعلام "edismax" \(انظر أعلاه) نحتفظ بالخيار، مع ذلك، لضبط معلمات الترتيب للعميل \(query-level\) إذا أصبح ذلك ضرورياً. ويوصى بتجنب إدخال تعديلات على ترتيب العملاء. عن طريق تكوين مختلف معالجات طلب البحث عن الموصل، يمكن توفير نهج ترتيب مختلفة لتركيبات أوجس مختلفة عن طريق تغيير شكل نقطة البحث الخاصة بها \(انظر تكوين خيار النشر أعلاه\).

إذا قمنا بتنفيذ تعديلات عامل الترتيب على مستوى المقالات \(osts\)، فسيكون من المحتمل أن يتم نقل هذه التعديلات إلى عادي في وقت الفهرسة. إذا قمنا بإدخال تعديلات على عامل الترتيب على مستوى القسم، عندها يمكننا اجتياز تلك التعديلات كاستفسارات تعزيز لكل قسم. هذا يمكن المستخدم من تغيير تعزيز مستوى القسم بدون الحاجة إلى إعادة فهرسة جميع المقالات في ذلك القسم. الأقسام التي لديها إعداد التصنيف المخصص "لا تظهر أبداً" يمكن استبعادها باستعلام عامل التصفية.

قد يستخدم مقدمو الخدمات حقل ملف خارجي لتحديد عوامل التصنيف المخصصة استنادًا إلى أي مجال كان. في السيناريو المدمج، يمكننا استخدام ملفات خارجية لتعديلات ترتيب المقالات/الأقسام. ومع ذلك، نحن نفضل استخدام استفسارات التعزيز، حيث أن هذه لا تتطلب منا الحفاظ على ملفات التصنيف البعيد عبر الشبكة في سيناريو نشر الخادم المركزي.

### مقاييس التصنيف الإضافية المحتملة

وفي حين أن قوة الدفاع الإسرائيلية هي النموذج الافتراضي لتحديد الدرجة/الترتيب في لوسين، فإنه يمكن تكييفها من خلال توفير ما يسمى بعوامل الدفع لمختلف الكيانات في النموذج. هذه هي المضاعفات البسيطة التي يمكن أن تحدث على مستوى المصطلح والمستند التي تزيد \(المضاعف &gt; 1\) أو تقلل \(المضاعف &lt; \) مساهمة النقاط من ذلك الكيان.

وفي حالتنا تتيح الوثيقة المعززة بعض الإمكانيات المثيرة للاهتمام لزيادة ضبط أهمية نتائج البحث. وفيما يلي بعض الأمثلة على المقاييس التي يمكن استخدامها "لتعزيز" بعض المقالات بحيث تحتل مرتبة أعلى في قوائم النتائج:

* بيانات مؤشر الاستشهاد
* مقاييس الاستخدام، على سبيل المثال كما يوفره المشروع الفرعي لإحصاءات OJS.de
* نقر عبر شعبية التغذية المرتدة من OJS ، أي عدد المرات التي تم فيها فتح المقالة بالفعل بعد عرضها في قائمة النتائج
* تكرار المقالات، أي المقالات المفضلة مع تاريخ نشر أحدث على المقالات الأقدم

والسؤال المطروح هو كيف يمكن توفير هذه البيانات للمبيع. أقترح أن نقوم بتنفيذ API في OJS الذي يمكنه تلقي وتخزين بيانات تعزيز مستوى الوثائق لكل مقالة. ويمكن تنفيذ ذلك كاعدادات غير إلزامية في جدول إعدادات المقالات. إذا كانت بيانات التعزيز هذه موجودة فسيتم إرسالها تلقائياً إلى المورد في وقت الفهرسة. سيكون علينا تطبيق طريقة تطبيع حتى يتمكن المحررون من إدخال أرقام اعتباطية سيتم ترجمتها بعد ذلك إلى عوامل تعزيز مناسبة. إن تغيير البيانات المعززة يعني أنه سيتعين إعادة فهرسة المقال \(مثله مثل أي تغيير آخر في البيانات الوصفية للمقالات ذات الصلة بالبحث\).

وبدلا من ذلك، يمكن للمستخدمين المتقدمين أن يقدموا ملفا محدثا دوريا مع بيانات تعزيز الوثائق، انظر http:/lucene.apache.org/solr/api/org/apache/solr/schema/ExternalFileField. html.

## بحث فوري

البحث الفوري يعني أنه بينما لا يزال المستخدم يكتب في طلب بحث، يتم عرض أول معاينة على الفور في قائمة النتائج. وهو يتطلب وصلة بحث ”صفحة واحدة“ على النحو المبين أعلاه. يتطلب أيضًا معالج طلبات إضافية من OJS AJAX التي توجه أحداث البحث AJAX إلى خادم الموزع وترجع إلى صيغة يمكن تفسيرها بواسطة رمز متصفح OJS. ولفرع تطوير OJS إمكانية الوصول إلى إطار جافا سكريبت الجديد الذي تم تطويره من أجل نظام إدارة المكاتب. يمكننا أن نستخدمها لتنفيذ جافا سكريبت الزبون الضروري من أجل "البحث الفوري".

## عرض النتائج

ويعد عرض النتائج مهمة جانبية في معظم الأحيان. ولن يختلف عن التنفيذ الحالي إلا فيما يتعلق ببعض التفاصيل التي سترد فيما بعد. سيرفر البحث عن الموزع يرجع حقول معرف الهوية التي يمكن استخدامها من قبل OJS لاسترداد جميع البيانات الإضافية المطلوبة من قاعدة بياناته. وتعزى هذه التوصية المتعلقة بالتنفيذ إلى سببين:

* فهرس الموزع سيستهلك مساحة أقل بكثير إذا لم يكن النص الأصلي بحاجة إلى تخزينه.
* في السيناريو القائم على الاشتراكات، نريد أن نتجنب أن النصوص الكاملة يمكن تسريبها إذا حصل المستخدمون الخبيثون على الوصول المباشر إلى خادم Lucin. ومع ذلك، لا بد من الاعتراف بأن عدم تخزين النصوص الكاملة هو حماية ضعيفة نسبيا ويمكن العمل عليها إلى حد ما. وأفضل حماية من تسرب النص الكامل هي وصلة الحماية المناسبة لخادوم الجنرال على النحو المبين في الفصل أدناه من خيار النشر.

إذا أردنا أن ندعم تسليط الضوء على ذلك، علينا أن نخزن النصوص الكاملة لوادي لجميع لغات الواجهة. ويتطلب تسليط الضوء على النص الأصلي غير المحلل أن يكون حاضراً حتى يمكن استرجاع سياق مصطلحات البحث. وقد تم بالفعل تحديد التغييرات الضرورية الأخرى في عرض النتائج في مواصفات الوصلة المذكورة أعلاه. يرجى الرجوع هناك لمزيد من التفاصيل.

### صفحة

الصفحة مدعومة في الموسم من خلال عامل استفسار. سيقيّد OJS استفسارات البحث باستخدام معلمات الاستعلام "بدء" و "صفوف" الخاصة بالعميل بحيث يتم إرجاع المقالات المعروضة فعلياً فقط. وهذا يقلل من حجم الرسائل التي سيتم تمريرها عبر الشبكة.

### تسليط الضوء

يمكن دعم تسليط الضوء في المورد بواسطة معلمة استعلام بحث إضافية بسيطة: "...&hl=on... بالإضافة إلى بعض بارامترات التكوين التي تحدد الحقول البارزة وكمية السياق المراد إرجاعه. إذا كان ينبغي دعم تسليط الضوء على ذلك، فإننا نقترح أن يستند إلى نص الوادي الكامل. في هذه الحالة سيقوم الموسر تلقائياً بإرجاع مقتطفات من النص الكامل للغالي تحتوي على شروط الاستفسار. يمكن بعد ذلك عرض هذه المستخرجات للمستخدم النهائي كجزء من قائمة النتائج.

ملحوظة: تسليط الضوء على النص الأصلي \(غير tokenized\) لتخزين النص الكامل لوادي في الفهرس الذي يمكن أن يؤدي إلى تفجير حجم الفهرس بشكل كبير.

### طلب

يسمح Lucene بالترتيب على جانب الخادم استناداً إلى أي حقل مفهرس. والترتيب على جانب الخوادم مهم بشكل خاص عند استرجاع مجموعات النتائج الموصوفة. سيتم فرز مجموعات النتائج الافتراضية حسب درجة الحقل "الافتراضية" التي تم وصفها أعلاه في قسم الترتيب. يمكن تحديد أي حقل آخر مع معلمة الفرز، على سبيل المثال "...&sort=authors\_txtsort asc، درجة التنازل...".

يعرض OJS الحقول "المترجمة" في مجموعة نتائجه. وقد تختلف هذه البيانات المترجمة عن البيانات المفهرسة في حالة عدم وجود عنوان مقال أو مجلة في موقع الواجهة المختار حاليا. وفي هذه الحالة، يعرض موقع آخر للمواد المعنية. وهذا يعني أنه قد يتعين أن تختلف البيانات في مجالات الفرز عن البيانات المفهرسة لأغراض الاستفسار. راجع أقسام "نموذج البيانات" و"تنسيق XML" للمتطلبات التقنية للحقول القابلة للفرز.

## واجهة

وكما هو مبين في مواصفات الوصلة المذكورة أعلاه، نقترح مواجهتها لميادين البحث التالية:

* المؤلفون
* تاريخ النشر
* فروع
* نوع
* موضوع
* التغطية
* عنوان المجلة \(استفسارات المجلة فقط \)

يمكن تطبيق بعض التصفية الخاصة لهذه الحقول من أجل الوجه:

* وقد يكون من المعقول أن يقتصر الأمر على إدراج أول مؤلف في ملف الوجه. والأمر متروك لمالك المشروع لتحديد ذلك.
* الوجه في تاريخ النشر يجب أن يكون حسب نطاق التاريخ بدلاً من قيم التاريخ المنفصلة.
* يجب أن تكون جميع الحقول الأخرى رمزية بواسطة فاصلة \(على سبيل المثال "," و ";"\) وإلا ستبقى سليمة بحيث تظهر الوجوه مع التهجئة الأصلية. بيد أن الأوجه المنخفضة قد تكون منطقية.

نقترح أن نعيد فقط النتائج المباشرة للغة الواجهة المختارة حاليا. هذا يعني أن حقول الوجه لا يمكن تكوينها مسبقاً في معالج طلب البحث في OJS ولكن يجب توفيرها في سلسلة الاستفسار، هو. . "...&facet.field=subjects\_de\_DE". سيتم تحديد الأوجه كروابط في إضافة بلوك الوجه كما هو مبين في قسم الواجهة أعلاه. وسيؤدي اختيار وجه واحد أو أكثر إلى إعادة إصدار الاستعلام الأصلي مع استفسار إضافي عن الفلاتر، هو. في حالة نطاق التاريخ ". .&fq=publication\_date\_dt:\(\[2006-01-01T00:00:00Z to 2007-01-01T00:00Z\] لا يوجد "2007-01-01T00:00:00Z"\) ...".

## اقتراحات إملائية بديلة

يمكن تقديم اقتراحات تهجئة بديلة لاستفسار بحث معين استناداً إلى مكون البحث عن التهجئة الخاص بالعزل. إذا كان يجب تنفيذ هذا ، فإننا نوصي بإنشاء قاموس متعدد اللغات على أساس حقل مترابط يحتوي على جميع البيانات الوصفية والنص الكامل. سيتم تخزين قاموس الفحص الإملائي في فهرس لوسين منفصل في …/files/solr/data/emellchecker. تم تنفيذ هذا التكوين في التكوين الافتراضي ويمكن التحقق من التفاصيل هناك. يجب إعادة بناء القاموس بعد تحديثات كبيرة لفهرس الموصل. ولأسباب تتعلق بالأداء، نوصي بإصدار القاموس بناء على الطلب من تركيب OJS بعد بضعة تحديثات بدلا من تحديثها بعد كل التزام. وهناك أيضا خيار تلقائي يتعلق بعنصر المدقق الإملائي هو "البناء بعد التحسّن". لا يمكننا استخدام هذا لأننا لا نوصي بالتحسين في السيناريو المدمج \(انظر مواصفات واجهة البحث أعلاه\). نقترح إصدار أوامر بناء إلى واجهة البحث الاعتيادية OJS مع المعلمات التالية: "q=nothing&rows=0&emellcheck=true&spellcheck.build=true&spellcheck.dictionary=default". وعادة ما لا يلزم معلمة ف ف لبناء القاموس. في إعدادنا مع معالج طلب البحث المعد مسبقاً والذي لا يوفره سوف يؤدي إلى خطأ.

## "أكثر مثل هذا"

يمكن تطبيق خاصية "More-like-this" \(MLT\) عن طريق تكوين مكون البحث MLT الخاص بالموسر. يستخرج هذا المكون "مصطلحات مثيرة للاهتمام" من وثيقة ثم يقوم بتنفيذ استفسار مقابل الفهرس لتحديد الوثائق التي تحتوي على هذه المصطلحات المثيرة للاهتمام.

عادة ما يمكن عرض النتائج من مكون MLT دون تغيير. ولكن في حالتنا لن يعمل هذا لأننا نريد دعم مزيج من الميزات \(e. . تسليط الضوء، الفرز، إلخ.) غير مدعوم مباشرة من عنصر MLT. كما أن استخدام نتائج فريق الرصد بشكل مباشر أمر مثير للمشاكل لأنه يعني أن إعادة تنفيذ البحث باستخدام "المصطلحات المثيرة للاهتمام"، وقد تسفر عن نتيجة مختلفة تكون غير بديهية من وجهة نظر المستخدم النهائي.

ولذلك نظرنا في البدائل التالية:

1. تعطيل جميع الميزات غير المتوافقة على صفحة إعدادات الملحق عند تمكين ميزة MLT.
2. تعطيل جميع الميزات غير المتوافقة فقط للاستعلام MLT-Query نفسه.
3. استخدام مكون MLT لاستخراج "المصطلحات المثيرة للاهتمام" وتنفيذ استعلام ثان مع هذه المصطلحات مقابل مكون البحث المعتاد لدينا مع كل الميزات الممكنة.

ويبدو الخيار الأول تقييديا لا داعي له. ولا يبدو أن استفسارات MLT-T مهمة \(شعبية\) بما يكفي لتبرير مثل هذا النهج الجذري. وربما لا يمكن لأحد أن يمكّن فريق الاتصال المتعدد الأطراف إذا كان يعني التخلي عن الفرز والتوكيد والتهجئة البديلة، وما إلى ذلك.

ويمكن أن يكون الخيار الثاني مناسبا إذا لم تكن الخصائص المراد تعطيلها معرّضة لذلك. لسوء الحظ، لا يدعم MLT فرز النتائج مما يعني أن العنصر المركزي في واجهة المستخدم سيتم تعطيله عند تنفيذ استفسارات MLT. وسيكون من الصعب جعل هذا الأمر شفافا للمستعملين. والأسوأ من ذلك: عمليات البحث اللاحقة بنفس المصطلحات يمكن أن تعيد نتائج مختلفة حيث أننا سنسأل عندها ضد معالج طلب البحث المعتاد الذي قد يتعامل مع مصطلحات البحث بشكل مختلف. لذلك فإن هذا الخيار سيسفر عن تجربة غير متسقة إلى حد ما للمستخدم.

كما أن الخيار الثالث ينطوي على عيوب. وهذا يعني أنه يتعين علينا أن ننفذ استفسارين بدلا من استفسار واحد: استفسار أول لاسترجاع "المصطلحات المثيرة للاهتمام" واستفسار ثان لاسترجاع الوثائق المطابقة لهذه المصطلحات. وسيؤثر ذلك على أداء استفسارات فريق الرصد المتعدد الأطراف. كما يعني أنه لا يمكننا استخدام خاصية تعزيز الترتيب التلقائي لمكون MLT لأننا لا ندعم التعزيز رسميا من خلال واجهة الاستعلام العادية \(على الرغم من أن المستخدمين الخبراء قد يستخدمونه كميزة غير موثقة على النحو الموصوف في مكان آخر).

وبما أن استفسارات فريق الرصد لا تقدم نسبة كبيرة من الطلبات الإجمالية للمستعملين، فإن الأداء الذي تحقق لا يبدو وثيق الصلة أكثر مما ينبغي. وقد يفهم المستخدمون بديهياً أن استفسارات فريق الاتصال المتعدد الأطراف "أكثر تعقيداً على نحو ما" وبالتالي يستغرق تنفيذ الاستفسارات لمدة أطول قليلاً من الاستفسارات العادية. لذا فإن اتساق تجربة المستخدم لن يكون على الأرجح مشكلة. وحقيقة أننا لا نستطيع استخدام التعزيز التلقائي يمكن اعتبارها مردودا للبساطة والاتساق في واجهة المستخدم. ويبدو أن ميزة رؤية الاستفسار بالضبط الذي تم تنفيذه والقدرة على استنساخ النتائج الدقيقة عن طريق إعادة تنفيذ نفس الاستفسار يدوياً بعبارة "المصطلحات المثيرة للاهتمام" قيمة بما يكفي لقبول هذا العيب.

ولذلك نوصي بتنفيذ الخيار الثالث.

وهناك عدة طرق للوصول إلى مكون فريق الرصد المتعدد الأطراف:

* كمعالج مخصص للطلبات يقدم عادة وثيقة واحدة ،
* كعنصر بحث في معالج طلب آخر أو
* كمعالج للطلب يستعمل النص الكامل ويقترح وثائق مماثلة من الفهرس.

والخيار الأول هو الخيار الأكثر استخداما ويبدو ملائما لاسترداد "المصطلحات المثيرة للاهتمام" في حالتنا.

نوصي بالمعلمات الافتراضية التالية لمعالج طلب MLT:

* mlt=على,
* mlt.fl=xxx حيث يتم تعيين xxx إلى حقل المستند المقابل للعنوان والخلاصة مع جميع اللغات المدعومة لهذه الحقول في الفهرس، e. . mlt.fl=title\_en\_US title\_de\_DE abstract\_en\_US abstract\_de\_DE,
* mlt.interestingTerms=list لإرجاع المصطلحات لاستعلام بحث لاحق
* q=id:xxx حيث xxx هو معرف المستند الموسر \(انظر "Model" أعلاه) من المقالة التي نود أن نبني عليها بحثنا،
* start=0 والصفوف =0 لأننا لا نريد أي نتائج مباشرة،
* mlt.boost=off لأننا لا ندعم التعزيز في واجهتنا العادية.

وبما أننا نتوقع عدم استخدام ميزة MLT بشكل متكرر جدا في معظم الحالات، نقترح عدم تخزين ناقلات المدة بشكل افتراضي. وهذا يعني أنه عند إصدار طلب يتعلق بفريق متعدد الأطراف، سيتعين إعادة تحليل حقول المستندات المناظرة لاستخلاص معلومات عن ناقلات الأمراض. هذا أبطأ من ناقلات مدة التخزين ولكنه يحفظ مساحة التخزين. يمكن دائما تنشيط ناقلات المصطلحات من قبل المستخدمين المتقدمين إذا وجد أن التكوين الافتراضي بطيء جدا أو يستهلك الموارد.
