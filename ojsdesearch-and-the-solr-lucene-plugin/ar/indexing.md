# الفهرسة

وتصف الفروع التالية عدة جوانب من الفهرسة الخلفية لنظام البحث المقترح. ويشمل هذا بعض التغييرات على نهاية OJS الخلفية، ولكن قبل كل شيء يتضمن توصيات بشأن تكوين السرير / لوسين.

## معماري الفهرس

هندسة الفهرس هي أحد أهم جوانب التشكيل المغلف. ونورد قائمة بالخيارات المتاحة في هذا المجال ونقدم توصيات فيما يتعلق بالاحتياجات المحددة لهذا المشروع.

### فهرس واحد مقابل معماري الفهرسة المتعددة

القرار الرئيسي فيما يتعلق بهيكل الفهرسة هو ما إذا كان سيتم استخدام فهرس واحد أو فهارس متعددة \(وما يقابلها من علامات عادية\).

مزايا فهرس واحد لجميع الصحف والوثائق:

* تمكين البحث عبر مختلف مثيلات OJS
* التثبيت والتكوين والصيانة بسهولة\(لا حاجة لتكوين الموسر عند إضافة حالات OJS إضافية\)
* سهولة البحث عبر أنواع متعددة من الوثائق: من الممكن إجراء بحث واحد عبر البيانات الوصفية للمقالات، والوديان والملفات التكميلية بقصد استرداد المقالات.
* البحث السهل عبر اللغات
* لا حاجة إلى دمج نتائج البحث وتفكيكها وترتيبها من فهرسات مختلفة \(البحث الموزع\)

2 - مساوئ مؤشر واحد:

* مشاكل التصنيف المحتملة عند قصر البحث على مجموعات فرعية غير متجانسة من فهرس \(على سبيل المثال مجلة واحدة\)
* تصادم محتمل في فضاء الأسماء للحقول إذا تمت إعادة استخدام نفس المخطط لأنواع مختلفة من المستندات \(على سبيل المثال اقتباس). عنوان الملف وعنوان الوادي في نفس الحقل\)
* المشاكل المتعلقة بإمكانية التوسع إذا تجاوز حجم الوثائق عشرات الملايين من الوثائق
* إضافة المستندات تبطل المخبآت لجميع المستندات \(أي النشاط في مجلة واحدة سيبطل ذاكرة التخزين المؤقت لجميع الصحف\)
* وقد يتعين إعادة بناء المؤشر برمته في حالة فساد المؤشر

### الآثار المترتبة على الدعم المتعدد اللغات في هيكل الفهرس

وهناك خياران أساسيان للتصميم لفهرسة مجموعة وثائق متعددة اللغات:

1. استخدام فهرس واحد لكل لغة
2. استخدام حقل واحد لكل لغة في فهرس واحد

راجع [http://lucene.472066.n3.nabble.com/Designing-a-multilingual-index-td688766.html](http://lucene.472066.n3.nabble.com/Designing-a-multilingual-index-td688766.html) لمناقشة تصميم الفهرس المتعدد اللغات.

مزايا فهرس واحد:

* وهناك فهرس واحد أبسط للإدارة، والاستفسار عنه. يمكن استخدام تكوين واحد لجميع اللغات.
* وسوف يتم بالفعل ضم النتائج وترتيبها بشكل مشترك. ولا يتطلب إلغاء الازدواجية في نتائج البحث.

مزايا النهج المتعدد المؤشرات:

* وقد يكون النهج المتعدد المؤشرات أكثر قابلية للتوسع في سيناريوهات الانتشار الكبيرة جدا - ولا سيما عندما يُفهرس عدد كبير من منشآت النظام على حاسوب خدمة بحث مركزي.
* يمكن تعديل تكوينات اللغة في تكوينات أساسية فردية منفصلة. ولا يلزم إعادة فهرسة جميع الوثائق عند إدخال لغة جديدة في الوثائق الموجودة. غير أنه من المشكوك فيه ما إذا كانت المجلات ستدخل لغة جديدة في المقالات المنشورة بالفعل. لذا فإن هذه الميزة على الأرجح نظرية فقط في حالة OJS.
* مقياس الترتيب "docFreq" هو في كل حقل بينما "maxDoc" ليس كذلك. وباستخدام فهرس واحد لكل لغة، ستكون هذه البارامترات صحيحة حتى عندما تستخدم تعريفا ميدانيا واحدا لجميع اللغات. ومع ذلك، يمكننا أن نعمل بسهولة حول هذا الموضوع في تصميم مؤشّر واحد، بتوفير ميدان واحد لكل لغة.

وفي حالتنا فإن مزايا نهج المؤشر الواحد للمحتوى المتعدد اللغات تفوق بالتأكيد مساوئه.

### توصيات معماري الفهرس

وتقدم الفروع التالية توصيات بشأن هيكل المؤشرات لجميع سيناريوهات النشر.

#### معماري الفهرس الواحد

ونحن نوصي عموما بهيكل مؤشر واحد إن أمكن.

وهناك عدة عيوب لسيناريو المؤشر الواحد لا صلة لها في السيناريوهات S1 إلى S3:

* ليس لدينا سوى نوع واحد من الوثائق ذات الصلة: مقالات OJS. من خلال عدم تطبيع بياناتنا بشكل صحيح يمكننا بسهولة تجنب تصادم اسم الحقل أو مشاكل الترتيب بسبب إعادة استخدام الحقول لمحتوى مختلف \(e). . سيكون لدينا بالتأكيد حقلان منفصلان "الاسم" لاسم المقالة واسم المؤلف \).
* ليس من المتوقع أن يتجاوز عدد المستندات في المجلة \(S1\)، أو التركيب \(S2\) أو المزود \(S3\) ملايين المقالات. إذا كان يجب أن يحدث فإن مقدمي خدمات هذا الحجم سيتمتعون بالتأكيد بالمهارة المتاحة لتكوين خادم بحث مكرر مع الحفاظ على توافق API استناداً إلى وثائق واجهة البحث الخاصة بنا.
* وفي السيناريوهات المعتادة، تبدو تكلفة إبطال ذاكرة التخزين المؤقت بسبب تحميل ملف غالي أو إضافي جديد معقولة. إذا كانت تكلفة إبطال ذاكرة التخزين المؤقت أو تحديث الفهرس المتزامن بعد galley/supp. إضافة الملف تصبح أمرا مانعا ، لا يزال بإمكاننا اختيار استراتيجية تحديث ليلية \(انظر "معالجة السحب" أدناه\). ويتمشى هذا مع الاستراتيجية الحالية للتخزين المؤقت للفهرس لمدة 24 ساعة.
* يمكن تنفيذ تصميمنا المتعدد اللغات في مؤشر واحد.

من ناحية أخرى، هناك مزايا لهيكل فهرسي واحد \(مثلاً). البحث عبر العديد من أمثلة OJS، وبساطة التكوين، والصيانة، وما إلى ذلك\) التي لها صلة في حالتنا، انظر أعلاه.

وهناك مشكلتان محتملتان يمكن حدوثهما عند توحيد العديد من المجلات في مؤشر واحد:

* إعادة بناء الفهرس المكلف
* التشوهات المحتملة في الترتيب

النقطة الأولى تشير إلى حقيقة أنه إذا كان المؤشر بأكمله بحاجة إلى إعادة بناء \(على سبيل المثال). بسبب فهرس الفساد\) يجب علينا تفعيل إعادة البناء من جميع مثيلات OJS المتصلة. لا يمكن أن يكون هذا تلقائياً داخل OJS لأن OJS لا يسمح بالإجراءات عبر الحالات. ومع ذلك، يمكن أن يكون أوتوماتيكياً بسهولة عن طريق سكريبت مخصص بسيط عندما نوفر واجهة CLI لإعادة بناء الفهرس والتي نوصي بها.

ويتوقف ما إذا كان الترتيب سيعاني من نهج المؤشر الواحد على عدم تجانس المجلات المضافة إلى المؤشر. قد تصبح مشكلة عندما تكون مصطلحات البحث ذات الانتقائية العالية لمجلة واحدة أقل انتقائية بكثير بالنسبة للمجلات الأخرى مما يشوه تردد المستند العكسي الافتراضي لـ Lucene \(IDF\) عند تقييد نتائج الاستعلام في مجلة واحدة.

مثال سوف يوضح هذا: تخيلوا أن لديك جريدتين للرياضيات. ويقبل أحد هذه المجلات مساهمات من جميع التخصصات الفرعية، بينما تخصص المجلة الأخرى في علم الطوبولوجيا. الآن البحث في "الطوبولوجيا الجبارية" قد يكون انتقائيا تماما في مجلة الرياضيات العامة بينما قد يصطدم بمجموعة كاملة من المقالات في مجلة الطوبولوجيا. ربما هذه ليست مشكلة ما دمنا نبحث في كلتا اليوميتين إذا كنا نبحث داخل مجلة الرياضيات العامة فقط، ومن ثم فإن الوثائق المطابقة لـ ”الطوبولوجيا الجبرية“ ستحصل على درجات أقل مما ينبغي لأن تردد الوثيقة على مستوى الفهرس العام لـ ”الطوبوغرافية“ أعلى من المستوى المناسب للمجموعة الفرعية من المقالات في مجلة الرياضيات العامة. وهذا يعني أنه في البحث بعدة مصطلحات بحث، على سبيل المثال. ومن المحتمل أن تكون الفترة الثانية ”الطوبوغرافية الجبرية ونظرية العدد“ ممثلة تمثيلا زائدا في مجموعة نتائج الاستفسارات المقيدة بالصحف. والتجربة مع بيانات الاختبار هي وحدها التي يمكن أن تبين ما إذا كان ذلك ذا صلة من الناحية العملية. غير أنه من الإنصاف الاعتقاد بأن غالبية الاستفسارات ستكون عبر جميع المجلات المفهرسة وبالتالي لن تعاني من هذا التشويه. ويرجع ذلك إلى أن معظم المستعملين مهتمون بمواضيع تخصصهم بدلا من اهتمامهم بمنشور محدد فحسب.

ملاحظة: ليس علينا أن نثق في عدم تجانس المحتوى على مستويات الحبيبة المنخفضة، مثل أقسام المجلات حيث لا يمكن اختيارها كمعايير للبحث للحد من نتائج البحث.

ويمكن أن ينطبق نفس التشوه في الترتيب نظريا على المحتوى المتعدد اللغات إذا أردنا جمع جميع اللغات في حقل فهرس واحد. غير أننا في الخطة المقترحة نستخدم ميدانا مستقلا لكل لغة، انظر ”الوثائق المتعددة اللغات“ أدناه. بما أن عدد تردد الوثائق هو لكل حقل فهرسي، سنحصل على عدد صحيح من الوثائق الخاصة بكل لغة. سوف يتم حساب مجموع المستندات كما سنقوم بتحويل جميع النسخ اللغوية إلى مستوى المقال.

وفي حين أننا نوصي بصفة عامة بتصميم مؤشر واحد، هناك حالات قد يكون فيها التصميم المتعدد المؤشرات ملائما ويمكن لمقدم الخدمات أن ينفذه اختياريا:

* عندما يتضح أن الفساد المتكرر أو إبطال الذاكرة المؤقتة مشكلة ذات صلة.
* عندما تصبح تشوهات الترتيب ذات صلة أو
* عند الوصول إلى حدود النطاق.

ولا يمكن البت في حدوث هذه المشاكل أو عدم حدوثها إلا بالتجربة. في حين يتم دعم فهرس واحد لكل نموذج من نماذج OJS، حتى في سيناريو الشبكة، ويجب ألا يغيب عن البال أن المؤشرات المتعددة قد تكون لها عيوب: فمن منظور المستعملين، فإن أهم عيب محتمل هو أن البحث عبر عدة مجلات لن يتم دعمه إلا عندما تكون تلك المجلات في نفس الفهرس. ويرجع ذلك إلى أننا لا نوصي بالبحث الموزع على عدة فهارس لأنها أكثر تعقيدا بكثير، وبالتالي فهي مكلفة لتنفيذ المشاكل الصعبة المتعلقة بالترتيب وخلق تلك المشاكل التي يصعب علينا حلها. انظر القائمة الكاملة أعلاه.

#### S1 و S2: نواة سولر مضمن

وفي حين أننا نوصي عموما بهيكل مؤشر واحد لجميع خيارات النشر، هناك بعض التعليقات التي ينبغي الإدلاء بها فيما يتعلق بسيناريوهات محددة للتوظيف.

في سيناريو النشر S1 و S2 نحن نبحث فقط في نطاق تركيب واحد لنظام أوجانس. وهذا يعني أن الاستماع الأساسي الوحيد في واجهة IP القائمة على التراجع يمكن أن يلبي هذه الطلبات، انظر "النشر المضمن" أدناه.

#### S3: خادم سولر ذو نواة واحدة

في سيناريو النشر S3 نبحث عبر المنشآت. وهذا يعني أن نهج النشر الافتراضي مع نواة سرير مدمجة لكل منشأة لن يكون مثاليا لأنه يعني البحث عبر عدد كبير من النواة الموزعة. ولذلك، قد يرغب مقدم الخدمة في الاحتفاظ بفهرس واحد لجميع منشآت OJS المنشورة على شبكته.

ويترتب على ذلك بعض التبعات:

1. وعلينا أن نقدم التوجيه بشأن كيفية التركيب، تكوين وتشغيل خادم عادي قائم بذاته لتلقي الوثائق من عدد اعتباطي من منشآت OJS.
2. التكامل مع OJS solr سيحتاج إلى معلمة تكوين تشير إلى نواة الموسر المضمنة بشكل افتراضي ولكن يمكن الإشارة إلى نقطة نهاية الجندي التعسفية \(المضيف, المنفذ\) على شبكة مزود الخدمة. انظر أعلاه "تكوين سيناريو الانتشار".
3. يجب أن يتضمن معرف مستند OJS solr معرف تثبيت فريد حتى يمكن التعرف على الوثائق بشكل فريد عبر تثبيت OJS. انظر "نموذج البيانات" ووثيقة تحديث مواصفات بروتوكول XML أدناه.

#### S4: خادم سولر مخصص متعدد الأساسيات\(s\)

في سيناريو النشر S4 لدينا عدد غير محدد من أنواع المستندات المتباينة التي يجب فهرستها. وهذا يعني أن أفضل تصميم للمؤشر يحتاج إلى أن يحدد على أساس كل حالة على حدة. ويمكن أن نميز بين سيناريوهين محتملين للتكامل:

1. عرض نتائج البحث غير OJS في OJS
2. تضمين نتائج بحث OJS في عمليات البحث غير OJS

والمواصفات الحالية لا تتناول سوى الحالة الثانية حيث أن أول حالة تتطلب بالتأكيد تخصيص موفر محدد لرمز OJS الذي لا تتوفر لدينا معلومات عنه.

توصيتنا بشأن هيكل الفهرس لسيناريو S4 هي إنشاء نواة فردية منفصلة مخصصة مع وثائق OJS بالضبط كما هو الحال في السيناريو S3. ثم يمكن الجمع بين عمليات البحث إلى "نواة OJS" والاستفسارات إلى النواة مع أنواع المستندات غير OJS في طلبات بحث اتحادية من واجهات بحث تعسفية من طرف ثالث داخل شبكة مقدمي الخدمات. \(انظر [http://stackoverflow.com/questions/2139030/search-multiple-solr-cores-and-return-one-result-set](http://stackoverflow.com/questions/2139030/search-multiple-solr-cores-and-return-one-result-set) للحصول على حل محتمل واحد للبحث الاتحادي.\)

هذا له ميزة أنه يمكن استخدام دعم البحث العادي OJS solr دون تغيير استناداً إلى نفس موارد التوثيق التي نقدمها لدعم S3 \(انظر القسم السابق\).

الشرط الإضافي الوحيد لدعم سيناريو S4 هو التأكد من أن معرف المستند الفريد لأنواع المستندات الأخرى لا يتعارض مع معرف المقالة الفريدة OJS الفريدة. وهذا أمر مهم حتى يمكن لأي بحث اتحادي أن يحدد على نحو فريد وثائق دائرة العدل والمساواة ضمن وثائق الطلبات الأخرى. عندما تعمل مع معرف تثبيت فريد عالمياً، فإن مثل هذه الصدامات غير محتملة إلى حد بعيد. المصادمات المحتملة للهوية هي مشكلة فقط عند استخدام خاصية البحث الفيدرالي للحول المدمجة. وإلا فإن عميل البحث سيستفسر عن النواة بشكل منفصل وينضم إلى الوثائق استناداً إلى منطق التطبيق الخاص \(على سبيل المثال عرض قوائم نتائج منفصلة لأنواع مختلفة من المستندات\).

<hr />

## نموذج البيانات

وتستند توصيتنا بشأن نموذج البيانات إلى نوع الاستفسارات والنتائج المطلوبة وفقا لقائمة الميزات لدينا. ونحاول أيضا تنفيذ نموذج للبيانات يتطلب أقل قدر ممكن من التعديلات على المخطط والفهرس في المستقبل لتخفيض تكاليف الصيانة.

حقول البيانات الوصفية التي نريد البحث عنها بشكل منفصل \(على سبيل المثال في البحث المتقدم\) يجب تنفيذها كحقول منفصلة في لوسين. في بعض الأحيان يتم الانضمام إلى كل النص في حقل "شامل للجميع" لدعم الاستفسارات غير المنظمة. ونحن لا نعتقد أن هذا المجال ضروري في حالتنا لأننا سنقوم بالتوسع بدلا من ذلك.

لدعم البحث المتعدد اللغات والترتيب الصحيح للمحتوى المتعدد اللغات، نحتاج إلى حقل واحد لكل لغة لجميع حقول البيانات الفوقية المحلية والوادي والملفات التكميلية.

لتجنب مشاكل الترتيب، نفضل أيضًا أن يكون لدينا حقول منفصلة لكل شكل مستند \(e. . PDF ، HTML ، MS Word\) بدلاً من الانضمام إلى جميع صيغ البيانات في حقل بحث واحد. يمكننا استخدام توسيع الاستفسارات لتغطية جميع الصيغ مع الحفاظ على مقاييس ترتيب جيدة حتى عندما لا تستخدم أشكال معينة بنفس التواتر مثل الصيغ الأخرى.

العدد الكبير نسبياً من الحقول المطلوبة لنموذج البيانات المتعدد اللغات والمتعدد الأشكال ليس مشكلة في لوسين \(انظر [http://lucene.472066.n3.nabble.com/Maximum-number-of-fields-allowed-in-a-Solr-document-td505435.html](http://lucene.472066.n3.nabble.com/Maximum-number-of-fields-allowed-in-a-Solr-document-td505435.html)\). تخزين البيانات الشحيحة أو الكثيفة الكفاءة في Lucene، مقارنة بقاعدة بيانات NoSQL.

نحن نفضل الحقول الديناميكية على الحقول المكونة بشكل دائم:

* الحقول الديناميكية تسمح لنا بتقليص تكويننا إلى تعريف حقل عام لكل سلسلة محللة \(أي اللغة\).
* ولن تكون هناك حاجة إلى إعادة تشكيل مخطط البيانات أو إعادة فهرسته لدعم اللغات أو أشكال الوثائق الإضافية.
* ولن تكون هناك حاجة إلى إعادة تشكيل مخطط البيانات لإضافة حقول إضافية للبيانات الفوقية.

سيتم فهرسة تاريخ النشر إلى حقل نوع تاريخ المحاولة.

والمؤلفون ليسوا محليين وسيتم تخزينهم حرفيا في حقل من نوع سلسلة متعددة القيمة.

وفيما يلي المجالات المحددة:

* حقل معرف المستند الفريد عالميا \("article\_id"\) يجمع معرف التثبيت الفريد عالميا، معرف المجلة ومعرف المقال،
* الحقول "inst\_id" و "journal\_id" المطلوبة لأغراض إدارية،
* "القسم\_id" مطلوب لترجيحات الترتيب المخصصة،
* حقل المؤلفين \("authors\_txt"\) الذي هو المجال الوحيد المتعدد القيمة،
* حقول البيانات الوصفية الخاصة بالمقالة \("title\_xx\_XX", "abstract\_xx\_XX", "discipline\_xx\_XX", "subject\_xx\_XX", "type\_xx\_XX", "coverage\_xx\_XX"\) حيث "xxx\_XX" هو المكان الخاص بالحقل،
* حقل تاريخ النشر \("publicationDate\_dt"\)،
* حقل معتمد واحد لبيانات الملفات التكميلية \("suppFiles\_xx\_XX"\) حيث "xx\_XX" يمثل اللغة المحلية،
* حقول النص الكامل لوادي المترجمة \("galleyFullText\_mmm\_xx\_XX"\) حيث تمثل "mmm" لتنسيق البيانات، مثلا. "pdf" أو "html" أو "doc" أو "xx\_XX" تعني محلة المستند.
* حقول دعم تعيين الطلب \("title\_x\_XX\_txtsort", "authors\_txtsort", "issuePublicationDate\_dtsort", الخ.\)، انظر أدناه
* حقول لدعم الاقتراح التلقائي واقتراحات التهجئة البديلة \("XXXX\_spell"\)، انظر أدناه
* حقول لدعم الوجه \("الانضباط\_xx\_XX\_facet", "authors\_facet", الخ.\)، انظر أدناه

سيتم تحليل هذه الحقول من أجل حالات استخدام استعلام البحث، ومن المحتمل أن يشمل ذلك الحذف \(انظر "التحليل" أدناه\). ومن الواضح أن مخطط البيانات الدقيق يعتمد على عدد اللغات وأشكال البيانات التي تستخدمها المجلات المفهرسة.

وفي حالة الملفات التكميلية، قد تكون هناك عدة ملفات للجمع بين محل/شكل وثيقة وحيد. وبما أننا نسأل فقط عن المقالات، يمكن ضم كل النص الكامل للملف التكميلي إلى حقل واحد لكل لغة/شكل وثيقة. وبما أننا لا نسمح بالاستفسارات بشأن حقول البيانات الفوقية للملف التكميلي المحدد، يمكننا أن نزيد من توحيد البيانات الفوقية للملف التكميلي في ميدان واحد لكل لغة.

للحد من حجم الفهرس وتقليل الاتصال عبر الشبكة يتم فهرسة جميع حقولنا ولكن لم يتم تخزينها. الحقل الوحيد الذي سيتم تخزينه في الفهرس هو حقل الهوية الذي سيكون أيضا الحقل الوحيد الذي سيتم إرجاعه عبر الشبكة استجابة لطلب الاستفسار. بيانات المقالة \(العنوان، الخلاصة، إلخ.\) يجب استرجاعها محليا في OJS لعرضها. وبما أننا نستخدم مجموعات النتائج المستقيمة، فإن ذلك يمكن أن يتم بدون تأثير ذي صلة على الأداء.

إذا أردنا دعم تسليط الضوء على حقول الوادي يجب تخزينها أيضاً.

وستكون هناك حاجة إلى مزيد من الميادين المتخصصة في بعض حالات الاستخدام. إذا أردنا دعم الاقتراحات التلقائية أو اقتراحات تهجئة بديلة عندها سيكون علينا توفير حقول البيانات الوصفية للمقالات النصية في الحد الأدنى من التحليل \(الحروف الصغيرة فقط)، النسخة غير متوفرة\). هذه الحقول سوف تسمى "xxxxx\_spell" حيث الرقم "xxxxx" هو اسم الحقل بدون امتداد محلي.

الحقول التي نريد استخدامها كمعايير فرز اختيارية يجب أن تكون ذات قيمة واحدة وفهرسة وغير مميزة. وهذا يعني أنه من المحتمل أن يتعين تحليل القيم القابلة للفرز بشكل منفصل في حقول "xxxxx\_xx\_XX\_txtsort" أو "xxxxxxx\_dtsort" حيث "xxxxxx" هو اسم الحقل و "xxx\_XX" للمجموعة المحلية \(إن وجدت\) من نوع الحقل.

حقول الوجه \("xxxxx\_xx\_XX\_facet"\) تحتاج إلى تعريب الموقع. يتم تحليلها قليلاً \(حالة صغيرة فقط\) ويتم وضعها رمزًا بواسطة الفاصل \(مثل "," أو ";"\) بدلاً من الفضاء الأبيض.

إذا أردنا دعم خاصية "أكثر تشبيهاً" قد يكون علينا تخزين ناقلات المصطلح لحقول الوادي إذا واجهنا مشاكل في الأداء. لكننا لا نخزن ناقلات المدة بشكل افتراضي.

ويمكن الاطلاع على مزيد من التفاصيل التقنية لنموذج البيانات في الملحقات/العامة/solr/edded/solr/conf/schema.xml.

<hr />

## تقديم الوثيقة والتجهيز المسبق

يجب تقديم بيانات المقالة إلى المذيع ومعالجتها مسبقاً بحيث يمكن إلغائها بواسطة اللوسين الخلفي. وينطبق هذا بصفة خاصة على أشكال الوادي الثنائي والملفات التكميلية التي يلزم تحويلها إلى مسار أحرف UTF-8. وستصف الفروع التالية مختلف الخيارات والتوصيات فيما يتعلق بتقديم الوثائق وتجهيزها المسبق.

### تحويل مستند OJS الحالي مقابل تيكا

يقوم محرك البحث الحالي OJS بتحويل الوثائق استناداً إلى أدوات الأوامر من طرف ثالث التي تحتاج إلى تثبيتها على خادم OJS. سولر، من ناحية أخرى، مندمج بشكل جيد مع تيكا، محرك استخراج البيانات الفوقية والمستندات المكتوبة في جافا النقية. ويتعين علينا أن نقرر ما إذا كنا سنعيد استخدام الحل الحالي لمكتب العدل والمساواة أو ما إذا كنا سنستخدم تيكا بدلا من ذلك.

مزايا تحويل OJS الحالي:

* يمكننا إعادة استخدام عملية راسخة يعرف عنها بالفعل بعض مستخدمي OJS.
* تحويل ملفات PostScript يمكن توفيره خارج الصندوق.

مزايا تيكا:

* ووفقا لاختباراتنا، تعمل تيكا بمعدل واحد على الأقل من الحجم أسرع من الحل الحالي لمكتب العدل والمساواة. ويكتسي هذا الأمر أهمية خاصة بالنسبة لسيناريوهات الانتشار الكبيرة، أي عند إعادة فهرسة عدد كبير من المواد.
* تيكا أسهل في الاستخدام والتثبيت من حل OJS الحالي. لا توجد أدوات إضافية لطرف ثالث يجب تركيبها كما هو الحال الآن \(باستثناء المسمى نفسه بالطبع\). النص العادي، HTML و MS Word \(97 و 2010\) و ePub و PDF مدعوم خارج الصندوق بواسطة التعليمات البرمجية التي تأتي مع التوزيع العادي. تحذير: تيكا لا تحول ملفات PostScript!
* يمكن نشره بشكل مستقل على خادم البحث ولا يحتاج إلى تثبيت OJS للعمل. ويعني ذلك في السيناريوهين S3 و S4 وجود عدد أقل بكثير من الهياكل الأساسية التي يتعين نشرها على فروع خدمات الرقابة الداخلية.
* تم اختبارها وصيانتها بشكل جيد.
* تمكين فهرسة العديد من أنواع الملفات المصدرية الإضافية خارج المربع ، انظر [https://tika.apache.org/1.0/formats.html](https://tika.apache.org/1.0/formats.html) و [https://svn.apache.org/repos/asf/tika/trunk/tika-core/src/main/resources/org/apache/tika/mime/tika-mimetypes.xml](https://svn.apache.org/repos/asf/tika/trunk/tika-core/src/main/resources/org/apache/tika/mime/tika-mimetypes.xml)

والعيب الحقيقي الوحيد الذي يعانيه تيكا فيما يتعلق بمتطلباتنا هو أنها لا تدعم تحويل ملفات PS. ويمكن دعم نظام تحديد المواقع بصورة غير مباشرة عن طريق تحويله أولا إلى PDF محليا ثم تقديم PDF إلى خادوم المجند. غير أنه ليس من الواضح ما إذا كانت توجد في هذه الأيام منشآت OJS مهتمة بمسبار التي تستخدم بالفعل Postscript كصيغة للنشر. ويبدو أن ميزة القدرة على دعم تنسيق ePub هي أكثر أهمية من الدعم المنعدم في نظام دعم دعم دعم خدمة الشبكة.

توصية: استخدام محرك تحويل تيكا.

### المحلية مقابل المعالجة عن بعد

وفي سيناريوهات التركيب المتعددة، يمكن إجراء التجهيز المسبق للوثائق S3 و S4 محليا للتركيب أو على حاسوب خدمة الموزع المركزي.

ومزايا التجهيز المحلي هي:

* خادم الموسم لديه حمولة أقل لمهام المعالجة المسبقة الكثيفة الموارد.

ومزايا المعالجة عن بعد هي:

* سيؤدي إجراء جميع عمليات التجهيز على خادوم واحد إلى تبسيط النشر والصيانة، حيث أن التبعيات من طرف ثالث تحتاج فقط إلى التركيب والتكوين على خادوم واحد. يمكن إضافة تجهيزات OJS بدون متطلبات تثبيت إضافية ذات صلة بالبحث.
* ملحقات المعالجة المسبقة مثل الخلية أو DIH تعمل محلياً في صلب سولر.
* يمكننا أن نبقي التحميل خارج المستخدم النهائي الذي يواجه خواديم تطبيقات OJS لوقت ثابت متصور.

توصية: استخدام التجهيز عن بُعد، ويعزى ذلك أساسا إلى انخفاض تكلفة النشر وسهولة استخدام امتدادات سولر.

### دفع ضد سحب

يمكن بدء تحميل المستند على جانب العميل \(دفع المعالجة\) أو على جانب الخادم \(سحب المعالجة\). ولكلا الخيارين مواطن القوة والضعف لديهما.

مزايا تكوين الدفع:

* ويمكن إجراء الفهرسة عند الطلب عند إضافة وثائق جديدة إلى مكتب خدمات الرقابة الداخلية. وهذا يضمن أن يكون المؤشر محدثا دائما.
* لا يحتاج أي مجدول استيراد من الجانب الفردي إلى التهيئة والصيانة.
* الضغط أبسط لتنفيذه عند تنفيذه كمكالمة متزامنة بدون رد الاتصال. وقد يكون هذا كافياً في حالتنا، ولا سيما بالنسبة للسيناريو المدمج، على الرغم من أنه ينطوي على خطر عدم فهرسة المستندات إذا حدث خطأ ما غير متوقع أثناء الفهرسة أو إذا كان خادم المورد منخفض. وبدون تدابير أمان إضافية، هذا يعني أن إعادة بناء الفهرس بالكامل مطلوبة بعد عودة خادم السور إلى الإنترنت. يمكن التخفيف من حدة هذه المشكلة عن طريق تنفيذ نمط "القذر": يتم وضع علامة على المقالات "القذرة" عند تحديثها وكل مكالمة إلى مزامنة فهرسة API سوف تقوم بتحديث جميع المقالات "القذرة". لن يتم وضع علامة على المقالات "نظيفة" إلا عندما يؤكد خادم الموسر أنها تم فهرستها بنجاح. في حالة تعطل خادم العازل، يمكن تشغيل تحديث الفهرس التالي إما من خلال التحديث الدوري التالي لأي مقالة أو من خلال زر إضافي في واجهة البرنامج المساعد \(e. . "فهرس جميع التغييرات المعلقة"\) وبتبديل إضافي إلى البرنامج النصي "إعادة بناء SsearchIndex".

مزايا تكوين السحب:

* المعالجة الدفعية تعني أن نشاط التحرير خلال النهار سيتسبب في ذروة التحديث على خادم المورد بالضبط في حين أنه يعاني أيضا من حجم بحث عال. ويمكن أن يكون هذا العبء متقلبا ومتقلبا إلى حد كبير في بيئات النظم الأكبر وبالتالي يصعب الموازنة. في وضع السحب يمكن تكوين وتنسيق جداول الفهرسة في مكان واحد \(للسيناريوهات S3 أو S4\) للموازنة بين حمولة استيراد الوثائق على خادم البحث المركزي وإبقائها في الساعات.
* والسحب يعني أيضا أن العملية أكثر مرونة في مواجهة تعطل خادم الموصل. في حالة إنهاء الخدمة، يمكن تأجيل التحديثات حتى يعود الخادم إلى الإنترنت. ولا يلزم في هذه الحالة إعادة بناء مؤشر كامل.

توصية: استخدام تكوين الضغط الأبسط بشكل افتراضي ولكن التحقق من أدائه وموثوقيته في وقت مبكر. إذا تبين أنها بطيئة أو غير موثوقة، ولا سيما في حالة نشر الشبكة، ثم تقديم تعليمات وعينة من التشكيلات الاختيارية لتشكيل السحب للنشر الأكبر، انظر "تحديد بروتوكول OJS/solr Setfication" و"خيارات النشر" أدناه.

يمكن تنفيذ كل منهما، الدفع وسحب التجهيز، بدون رد. ونحن نوصي باستدعاء نشر الشبكة فقط حيث يتعين فهرسة كميات كبيرة من البيانات ويمكن أن تكون إعادة بناء المؤشر الكامل مكلفة جداً، انظر "تحديد بروتوكول OJS/solr Desfication" أدناه.

### الآثار المترتبة على معالجة الوثائق المتعددة اللغات

وتضع نتائج نتائج نتائج البحث التي يقوم بها مكتب العدل والمساواة على مستوى المقالات بدلا من إدراج الوديان أو الملفات التكميلية ككيانات مستقلة. وهذا يعني أنه من الناحية المثالية ينبغي أن يتضمن فهرسنا مدخلا واحدا لكل مقالة حتى لا نضطر إلى التخلص من الازدواجية والانضمام إلى مجموعات النتائج. وينبغي أن توزع الصيغ المختلفة باللغات والأشكال المختلفة للمقالات على ميادين منفصلة بدلا من الوثائق. وييسر هذا التصميم المهجور أيضا البحث والترتيب بلغات متعددة. وسترد في فرع "الوثائق المتعددة اللغات" أدناه حجج مفصلة بشأن تصميم الفهرس المفضل هذا.

من أجل التجهيز المسبق للمستندات، يعني هذا التصميم ضمناً أننا يجب أن نضم إلى مختلف الملفات الثنائية \(غاليس والملفات التكميلية بجميع اللغات والأشكال\) بالإضافة إلى حقول البيانات الوصفية المقالة في وثيقة واحدة في ملف سولير/لوسين. وكما سنرى في قسم "إضافات التجهيز المسبق"، فإن هذا يؤثر بشكل كبير على خيارات التنفيذ لاستيراد الوثائق ويقيدها.

### معالج مخصص مغلف مقابل المكونات الإضافية

علينا أن نقرر ما إذا كنا نريد تنفيذ تغليف التجهيز المسبق الخاص بنا لنسمع كما هو الحال في تنفيذ البحث الحالي OJS أو ما إذا كنا نريد إعادة استخدام واجهة التجهيز المسبق والقدرات التي توفرها المكونات الاستيراد والمسبقة للمعالجة.

مزايا واجهة المعالجة المسبقة المخصصة هي:

* يمكننا استخدام بروتوكول نقل بيانات اعتباطي، على سبيل المثال. إعادة استخدام صيغ التصدير الحالية مثل OAI أو صيغة التصدير الأصلية OJS أو استخدام صيغة إضافة الوثيقة الأصلية لـ solr مباشرة عبر السلك. ويعني الأول أنه يتعين علينا بطريقة ما تفسير هذه الصيغ على جانب الخادم. ويعني هذا الأخير أنه يتعين علينا تحويل ثنائيات الحروف إلى تيار أحرف UTF-8 على جانب العميل، انظر أعلاه مناقشة التجهيز المسبق للوثائق المحلية.
* يمكننا أن نعيد استخدام رمز تحويل المستندات الموجود، بدلا من استخدام تيكا. انظر أعلاه مناقشة رمز التجهيز المسبق لنظام الرقابة الداخلية الحالي.

مزايا الإضافات القياسية للعازب:

* ويمكننا أن نعيد استخدام قدرات المعالجة المسبقة للوثائق، المفصلة للوثائق التي هي أقوى من تلك التي ينفذها حاليا مكتب العدل المفتوح.
* Tika مندمج جيداً مع الموسم من خلال إضافتين مختلفتين: DIH و Cell. استخدام المكونات الإضافية المحلية المجنحة يعني أنه يمكننا استخدام تيكا كمحرك تحويل دون الحاجة إلى كتابة رمز تكامل Tika مخصص.
* رمز المعالجة المسبقة عن بعد المخصص لتفسير رسائل OAI أو صيغ تصدير OJS مكلف: إنه يعني إما تنفيذ وصيانة تطبيق PHP منفصل على جانب الخادم أو تمديد الموسم مع رمز جافا المخصص.
* المكونات الإضافية للمسرح تدعم سحب ودفع التكوينات خارج الصندوق.

ويتسم كلا الخيارين سلفا بجوانب قوتهما ومزاياهما. ومع ذلك، فإن الخيار واضح نسبيا في حالتنا بسبب تفضيلنا للتجهيز المسبق للوثائق عن بعد و تيكا كمحرك للاستخراج. لا شك أن الحاجة إلى الحفاظ على رمز جافا المخصص أو إنشاء خاصية معالجة PHP مسبقة على جانب الخادم ومحرك تكامل Tika هي خيارات غير جذابة بالنسبة لـ FUB أو PKP.

توصية: إن مزايا استخدام المكونات المكونة من مادة عازلة في استخراج البيانات ومعالجتها المسبقة تفوق مزايا واجهة المعالجة المسبقة المخصصة في حالتنا.

### الإضافات السابقة للمعالجة Solr : IDH مقابل الخلية

في الوقت الحالي هناك امتدادان أصليان للموردين يدعم تكامل تيكا: "معالجة استيراد البيانات" \(IDH\) و "مكتبة استخراج المحتوى التلقائي" \(Solr Cell\).

القصد من الخلية فهرسة كميات كبيرة من الملفات مع متطلبات تكوين قليلة جدا. بيد أن الخلية لا تدعم سيناريوهات استيراد أكثر تعقيدا مع عدة مصادر للبيانات ومتطلبات تحول معقدة. كما أنها لا تدعم سحب البيانات. وفي حالتنا هذه، تستبعد هذه العيوب كحل.

المكون الإضافي المعياري الثاني للتجهيز المسبق للموسيع، HH، هو استخراج مرن، إطار للتحويل والتحميل من أجل المصدر الذي يسمح بدمج مختلف مصادر البيانات ويدعم سيناريوهات السحب والدفع.

وللأسف فإن حتى معهد هلسنكي لحقوق الإنسان لديه قيدان لهما صلة في حالتنا وهما:

* تنفيذ XPath للهند غير مكتمل. وهو لا يدعم بعض أنواع استفسارات XPath ذات الصلة بنا: استعلام XPath IDH لا يمكن أن يكون مؤهلا على سمتين مختلفتين XML في نفس الوقت الذي يستبعد إمكانية نقل XML الأصلي OJS إلى IDH.
* ونظراً لمفهوم "الصف" المتسلسل الذي فرضه على تحليل XML، فإن معهد حقوق الإنسان لا يؤيد عادة إدراج عدة وثائق ثنائية في وثيقة واحدة من وثائق لوسين. في الواقع لا توجد مساهمة عابرة قياسية مصممة للقيام بذلك خارج الصندوق \(انظر [http://lucene.472066.n3.nabble.com/multiple-binary-documents-into-a-single-solr-document-Vignette-OpenText-integration-td472172.html](http://lucene.472066.n3.nabble.com/multiple-binary-documents-into-a-single-solr-document-Vignette-OpenText-integration-td472172.html)\). فقط من خلال تطوير تنسيق إرسال بيانات XML المخصص مع وثائق XML المدمجة في CDATA، تمكنا من العمل حول هذا الحد دون الحاجة إلى اللجوء إلى رمز Java المجمع المخصص على جانب الخادم. انظر أدناه صيغة "XML لإضافة مقال".

توصية: استخدام IDH في التجهيز المسبق للوثائق مع شكل إرسال مخصص لـ XML.

### هل يجب أن نستخدم تيكا لاسترداد البيانات الوصفية من الوثائق؟

يمكن لـ Tika استرداد البيانات الوصفية المستندية من صيغ وثائق معينة، مثل وثائق MS Word. وتتكامل هذه الوظيفة أيضا بشكل جيد مع المعهد الدولي لحقوق الإنسان.

غير أن استخدام هذه البيانات الوصفية أمر إشكالي:

* لا يمكن دائما استرجاع البيانات الوصفية للوثيقة من جميع أنواع الوثائق.
* وحتى في الحالات التي تسمح فيها الوثيقة نظريا بتخزين مجموعة كاملة من البيانات الفوقية فإن هذه البيانات الفوقية قد تكون غير كاملة أو غير متسقة مع البيانات الفوقية لمكتب خدمات الرقابة الداخلية.
* لدينا مجموعة كاملة من البيانات الوصفية عالية الجودة في OJS التي يمكننا استخدامها بدلا من ذلك.

توصية: لا تستخدم Tika لاستخراج البيانات الوصفية للمستندات ولكن تستخدم البيانات المقدمة من OJS بدلاً من ذلك.

### بروتوكول الإرسال

IDH يدعم العديد من بروتوكولات إرسال البيانات، مثل الوصول المباشر للملف، HTTP، JDBC، إلخ. في حالتنا يمكننا استخدام الوصول المباشر إلى الملفات أو JDBC لسيناريو الانتشار المضمن. ولكن كما يتوجب علينا أيضا دعم سيناريوهات التركيبات المتعددة نفضل توجيه جميع البيانات من خلال مكدس الشبكة حتى نتمكن من استخدام تكوين التجهيز المسبق لكل خيارات الانتشار. واستخدام الشبكة محليا هو أبطأ بشكل طفيف فقط من الوصول إلى قاعدة البيانات ونظام الملفات مباشرة. فمعظم وقت التجهيز ينفق في تحويل الوثائق وفهرستها بحيث لا يكاد نقل الوثائق يتحول إلى اختناق في الأداء.

HTTP هو بروتوكول الشبكة الذي يدعمه IDH. يمكن استخدام HTTP لتكوين الضغط والسحب. يدعم نقل بيانات تيار الأحرف \(meta-\) وكذلك المستندات الثنائية \(النص الكامل\). ولذلك فإن توصيتنا هي استخدام بروتوكول نقل البيانات HTTP بوصفه البروتوكول الوحيد في جميع سيناريوهات الانتشار.

البروتوكولات غير HTTP لا تزال مدعومة اختيارياً \(على سبيل المثال لأسباب الأداء\) عن طريق إجراء تغييرات مخصصة صغيرة نسبياً على تكوين IDH الافتراضي.

وسترد التفاصيل الدقيقة لبروتوكول الإرسال في "تحديد بروتوكول OJS/solr protocol" أدناه.

### توصيات التقديم والتجهيز المسبق

وخلاصة القول إن تحليلنا لعملية استيراد البيانات أظهر أن المتطلبات التالية ينبغي تلبيتها بحل التجهيز المسبق للبيانات:

* لا يجب أن تكون هناك حاجة إلى برمجة جافا مخصصة.
* وينبغي دعم سيناريوهات الدفع والسحب.
* وينبغي دعم التجهيز المسبق عن بعد.
* علينا أن ندعم تجريد مختلف الملفات الثنائية من العقاب في وثيقة واحدة في لوسين.
* يجب أن يتم التجهيز المسبق مع تيكا باستخدام المكونات الإضافية المحلية للمسر.
* وينبغي إرسال الوثائق والبيانات الفوقية عبر الشبكة.

نحن نقدم تشكيلة نموذجية لIDH تخدم جميع احتياجات الاستيراد والتجهيز المسبق:

* نحن نقدم تشكيلات الدفع والسحب. الدفع مدعوم من قبل IDH's ContentStreamDataSource والسحب مدعوم من خلال UrlDataSource.
* كلا التكوينين لا يتطلب الوصول المباشر إلى الملف أو قاعدة البيانات. كل الاتصالات موجودة فوق مكدس الشبكة.
* في نموذجنا الأولي نعرض طريقة لاستخدام IDH FieldReaderDataSource لتمرير XML المدمج بين مثيل XPathEntityProالمعالج المتداخل. وهذا يسمح لنا بإضفاء طابع عصمي على كيان مقالاتنا بتشكيلة واحدة من IDH. نحن أيضا نعتمد بشدة على ScriptTransve IDH لإنشاء حقول سرير جديدة بشكل ديناميكي عندما يتم فهرسة اللغات أو أنواع الملفات الإضافية لأول مرة. وهذا يعني أنه لن تكون هناك حاجة إلى صيانة للهند الإنساني لدعم مواقع إضافية.
* تتم جميع تحولات الملفات عن طريق تكامل تيكا Tika \(TikaEntityProcessor\). نحن نضع معالج تيكا في معالج XPathEntityProder، ونجمع بينه مع ScriptTransve لتحويل العديد من الملفات الثنائية إلى حقول عازفة ديناميكية.

يرجى الاطلاع على الإضافات/العام/solr/embedded/solr/conf/dih-ojs.xml للحصول على التفاصيل.

<hr />

## تحليل

وفي سياق لوسين، يعني مصطلح "التحليل" فرز تيار حروف بيانات الوثيقة المجهزة مسبقاً \(مثلاً). تصفية التراكيسيس\)، وتقسيمه إلى مصطلحات بحث مفهرسة \(tokenization\) والتعامل مع المصطلحات لتحسين أهمية نتائج البحث \(e. . مرادفات الحقن، غلاف منخفض و ستيمنج\).

### الدقة والاستدعاء

ويصف هذا الجزء من الوثيقة كيف نحلل ونفهرس الوثائق والاستفسارات لتحسين دقة البحث الذي أجراه مكتب المستشار القانوني واستدعائه. بعبارة أخرى: علينا أن ندرج الحد الأقصى لعدد الوثائق ذات الصلة باستفسار بحث معين \(recall\) في مجموعة نتائجنا مع تضمين حد أدنى من الإيجابيات الخاطئة \(الدقة\).

والتدابير التي يمكن أن تحسن من التذكير في حالتنا هي:

* عدم إحداث فرق بين الأحرف الدنيا والحروف العلوية
* إزالة التراكيس لتجاهل التهجئة الشائعة
* استخدام استراتيجية رمزية مناسبة \(على سبيل المثال n-gram للدلالات الإباحية أو اللغات غير المحددة والمساحة البيضاء للترميز الأبجدي \)
* استخدام "stemmers" لتحديد الوثائق التي تحتوي على أشكال نحوية مختلفة للكلمات في استفسار
* استخدام قوائم مرادفات \(thesauri\) لتضمين المستندات التي تحتوي على مصطلحات ذات معنى مشابه

ويمكن أن تكون التدابير التي تحسن الدقة:

* تجاهل الكلمات المستخدمة بشكل متكرر والتي عادة ما تحمل معنى متميزًا قليلاً \("كلمات إيقاف"\)

وكثيرا ما يكون هناك تضارب معين بين تحقيق القدر الأمثل من الاستدعاء والدقة. وقد تؤدي التدابير التي تحسن الاستدعاء بتجاهل الاختلافات الكبيرة المحتملة بين مصطلحات البحث إلى إيجابيات زائفة مما يقلل من الدقة.

يرجى ملاحظة أن معظم التدابير المذكورة أعلاه تتطلب معرفة لغة النص، أي بمفهومها المحدد أو بنطقها أو حتى نطقها. والاستثناء الملحوظ لهذه القاعدة هو تحليل غرام (n-gram ) وهو تحليل لا يتحدث عن اللغة. إن دعم عدد كبير من اللغات هو أحد أهم متطلباتنا. ولذلك فإن معالجة البيانات الفوقية والوثائق الكاملة الخاصة بكل لغة معالجة مناسبة أمر حاسم لنجاح التصميم المقترح. لذلك سنعالج التحليل الخاص بكل لغة بالتفصيل في القسم التالي.

ويتمثل نهجنا العام في إبقاء عملية التحليل بسيطة قدر الإمكان بشكل تلقائي. ويشمل ذلك أيضا الحد الأدنى من التحليلات الخاصة بكل لغة على حدة. والغرض من ذلك هو تحقيق هدف تصميم "البساطة" على النحو المحدد لهذا المشروع. كلما اكتشفنا أهمية غير مرضية لقوائم النتائج أثناء الاختبار \(انظر نهج الاختبار الخاص بنا أعلاه\)، خاصة عدم كفاية استدعاء المستندات متعددة اللغات، سنقوم بتخصيص سلاسل التحليل. وهذا يكفل عدم إدخال المزيد من التعقيد إلا عندما تكون هناك احتياجات محددة للمستعملين لها ما يبررها.

### الوثائق المتعددة اللغات

ومن المتطلبات الأساسية لهذا المشروع تحسين دعم البحث في المحتوى المتعدد اللغات. وينطبق هذا بصفة خاصة على اللغات ذات المعنى الإباحي، مثل اليابانية أو الصينية، التي لا يدعمها تنفيذ البحث الحالي لمكتب العدل والمساواة. لقد قمنا بالفعل بتحليل أثر الوثائق المتعددة اللغات على تصميم الفهرس ونموذج البيانات. بيد أن أهم جزء من الدعم المتعدد اللغات يكمن في عملية التحليل. والواقع أن السماح بإجراء تحليل خاص بكل لغة هو أحد الأسباب التي جعلنا نوصي بوضع نموذج للبيانات ”ذات مجال واحد لكل لغة“.

لا يوجد نهج افتراضي موصى به للتعامل مع المحتوى المتعدد اللغات في السرير / السلسة. ونطاق التطبيقات المحتملة كبير إلى درجة أنه يتعين إيجاد حلول فردية لكل حالة من حالات الاستخدام. لذلك سنعالج هذا السؤال بقدر كبير من التفصيل: أولا، سندرج بضعة متطلبات تحليلية محددة مستمدة من متطلبات المشروع الأعم المعروضة سابقا. ثم سنناقش عدة نُهج للتحليل المتعدد اللغات. أخيرا سوف نوصي بحل فردي لحالات الاستخدام التي سيتم دعمها في هذا المشروع.

#### المتطلبات

ويجب قبل كل شيء أن تستمد احتياجات عملية التحليل من استفسارات المستعملين المتوقعة وقوائم النتائج المقابلة لها حسب الترتيب الصحيح. ومن ثم فإن القائمة التالية لمتطلبات التحليل مستمدة من خصائص محددة لاستفسارات البحث المتعددة اللغات التي يقدمها مكتب خدمات الرقابة الداخلية:

* نموذج بحث OJS غير معلوم للغة. يمكن إدخال مصطلحات البحث بأي لغة. وينبغي السماح لكل من الاستفسارات الأحادية واللغات المختلطة.
* وينبغي أن تكون عملية الفهرسة قادرة على التعامل مع الأودية والملفات التكميلية بلغات مختلفة.
* وينبغي أن يكون في مقدور عملية الفهرسة عادة الاعتماد على المعلومات المحلية المقدمة بشأن الملف الغالي أو الملف التكميلي الذي يجري فهرسته. وقد يستخدم مصنف لغوي بشكل اختياري في الوديان التي لا يمكن الاعتماد على معلوماتها المحلية أو لا يمكن التعرف عليها.
* وينبغي أن تكون عملية الفهرسة قادرة على التعامل مع الوثائق المختلطة اللغة التي تتناوب فيها فقرات قصيرة باللغة الأجنبية مع لغة الملفات الرئيسية/الإضافية. وهذا يعني أنه على سبيل المثال. وينبغي أن يجد مصطلح البحث الإنكليزي المدخل إلى مربع البحث في OJS وثيقة ألمانية تحتوي على كلمة البحث في اقتباس باللغة الإنكليزية.
* وينبغي دعم اللغات التالية على وجه التحديد: الانكليزية والألمانية والإسبانية والصينية واليابانية. وينبغي أن تكون اللغات الأخرى مدعومة بعملية تحليل عامة تنجح بشكل معقول بالنسبة للوثائق المتعددة اللغات.
* وينبغي تحديد وتوثيق عملية من أجل الربط في سلاسل تحليلية إضافية خاصة بكل لغة عند الطلب.

وتنشأ متطلبات أخرى من استفسارات الاختبار المتعددة اللغات. للاطلاع على التفاصيل، يرجى الرجوع إلى قائمة استفسارات الاختبار المرتبطة في الجزء الرئيسي أعلاه من "المتطلبات".

#### التعرف على اللغة مقابل اللغة المعينة مسبقاً

عندما يتم تحليل المحتوى المتعدد اللغات بطريقة محددة للغات \(على سبيل المثال القذف، كلمات الإيقاف، إلخ). ) نحن بحاجة إلى معرفة لغة الوثائق لكي نتمكن من أن ندرج في سلسلة التحليل الصحيحة. وهناك نهجان أساسيان للحصول على هذه المعلومات المتعلقة بالهوية اللغوية: التعرف على اللغة الآلية وإسهامات المستعملين.

مزايا التعرف على اللغة الآلية:

* التعامل مع معلومات محلية ناقصة أو غير موثوقة عن البيانات الفوقية والوديان والملفات التكميلية.

مزايا اللغات المعينة مسبقاً:

* أبسط للتنفيذ.

موثوقية التعرف على اللغة الآلية مقابل ذلك. وتعتمد اللغات المحددة مسبقاً أساساً على موثوقية مدخلات المستخدم في حالة اللغات المحددة مسبقاً: ففي حالتنا قد تكون المعلومات اللغوية المقدمة موثوقة إلى حد كبير بالنسبة للبيانات الفوقية والودان. وليس هذا هو الحال بالنسبة لمحتوى الملفات التكميلية لأن هذه الملفات لا تحتوي على حقل محلي موحد. ومع ذلك، يبدو أن هذه مشكلة ثانوية: من المفترض أن البحث عن محتوى تكميلي للملفات يكتسي أهمية ضئيلة في حالتنا.

ولذلك، فإن توصيتنا هي العمل بلغات محددة مسبقا لتفادي تكاليف التنفيذ/الصيانة والتعقيد غير الضروريين. إذا رأينا في الممارسة العملية أنه لا يمكن تشغيل الاستفسارات الهامة للاختبار بلغات محددة مسبقا، إذن يمكننا إضافة التعرف على اللغة عند الضرورة. يمكننا أن نستخدم البرنامج المساعد "langid" في هذه الحالة، انظر [https://wiki.apache.org/solr/LanguageDetection](https://wiki.apache.org/solr/LanguageDetection). وهو يوفر اعترافا باللغة على المستوى الميداني خارج الصندوق.

#### الوثيقة مقابل التعرف على اللغة في مستوى الفقرات

ويؤثر حماس التحليل المتعدد اللغات تأثيرا كبيرا على تعقد التنفيذ وتكلفته. وفي حين أن تجهيز اللغات على مستوى الوثائق مدعوم إلى حد كبير بعناصر لوسين القياسية، فإن التعرف على اللغات على مستوى الفقرات أو الجمل وتجهيزها يتطلبان قدرا كبيرا من العمل في مجال التنفيذ حسب الأصول. ويشمل ذلك تطوير وصيانة المكونات الإضافية المخصصة للعازلين/لوسين استناداً إلى أطر معالجة اللغات الطبيعية للطرف الثالث \(NLP\) مثل OpenNLP أو LingPipe.

وقد حددنا خيارات التنفيذ التالية للدعم المتعدد اللغات:

1. السماح بالمعالجة الخاصة بلغة معينة فقط على مستوى الوثيقة ومعاملة جميع الوثائق على أنها "أحادية اللغة". ويمكن أو لا يمكن التعرف على أجزاء الوثائق التي لا توجد بلغة الوثيقة الرئيسية تبعا للتشابه اللغوي/التوثيق بين لغة الوثيقة الرئيسية واللغة الثانوية.
2. السماح بالمعالجة الخاصة بكل لغة على مستوى الوثائق وتوفير قناة تحليلية إضافية "ذات مقاس واحد يناسب الجميع" تعمل بشكل جيد بدرجة معقولة مع عدد كبير من اللغات \(e. . باستخدام نهج n-gram ، انظر أدناه\). وسيتم بعد ذلك توسيع نطاق استفسارات البحث عبر مجالات البحث الخاصة بكل لغة والعامة. ومن المحتمل أن يؤدي ذلك إلى تحسين الاستدعاء ولكنه يقلل من دقة مصطلحات البحث باللغة الثانوية.
3. قم بتنفيذ التعرف على لغة الفقرة أو الجمل وتحليل أجزاء النص بشكل فردي وفقا للغة الخاصة بها. وينبغي أن يوفر ذلك أكبر قدر من الدقة والتذكير، ولكنه سيكون أكثر تكلفة بكثير بالنسبة للتنفيذ والصيانة.

وميزة الخيارين الأولين هي أنه يمكن تنفيذهما بمكونات سوليد/لوسين عادية. وسيتطلب الخيار الثالث تطوير وصيانة المكونات الإضافية المخصصة لمادة السمسر/لوسين وإدماجها مع أدوات معالجة لغوية طرف ثالث. وهذا ليس خياراً في حالتنا لأنه يتطلب برمجة مخصصة لجافا تم استبعادها كإمكانية لهذا المشروع.

ونوصي بالنهج الثاني الذي سيرد في الفرع التالي بمزيد من التفصيل.

#### نهج التحليل حسب اللغة مقابل ن-غرام

وهناك نهجان أساسيان للتعامل مع المحتوى المتعدد اللغات: نهج ن-غرام عام يعمل بطريقة لا تعرف اللغات ويوفر نتائج تحليلية جيدة نسبيا ومختلطة اللغات. وبدلا من ذلك، يمكن استخدام سلاسل التحليل الخاصة بكل لغة لتحليل النص الذي تكون لغته معروفة في وقت التحليل.

مزايا نهج أحادي الغرام:

* سهلة نسبياً للتطبيق مع سلسلة تحليل متعددة اللغات واحدة
* من السهل إدخال لغات جديدة \(لا يلزم تكوين إضافي\)
* سهل الاستعلام \(لا حاجة لتوسيع الاستعلام\)
* يمكن استخدامها لفهرسة المستندات ذات اللغة المختلطة
* لا يتطلب تحديد اللغة
* قد تسرع عمليات البحث عن البطاقات البرية في بعض الحالات

مزايا سلاسل التحليل الخاصة بكل لغة:

* أهمية أعلى لنتائج البحث \(أقل إيجابيات خاطئة أو سلبيات خاطئة\)
* معلومات اللغة تساهم في الترتيب الصحيح للوثائق
* أسهل للتعديل في حالة مشاكل تتعلق بالأهمية أو التصنيف الخاصة بكل لغة
* يتطلب مساحة تخزين أقل، خاصة عند مقارنتها بتحليل متعدد الغرامات \(على سبيل المثال تحليل 2 و3 و4 غرامات للحقل الواحد\).

وفي حين أن سلاسل التحليل الخاصة بكل لغة قد لا تكون مثالية بالنسبة للمحتوى المختلط اللغة، فمن غير المحتمل أن يوفر التحليل الخاص بكل غرام وحده أهمية مرضية لمجموعات النتائج.

ولذلك نوصي باتباع نهج مختلط: ينبغي أن نوفر سلاسل تحليلية خاصة بكل لغة للغة الرئيسية في مجالات الوثائق أو البيانات الفوقية التي تكون اللغة فيها معروفة ومدعومة. جميع الحقول والمستندات قد تخضع إضافة إلى ذلك لجزء n-gram \(مثلاً). تحليل edge-gram\) إذا وجدنا أن هذا ضروري لدعم حقول المستندات متعددة اللغات أو الحقول التي لا تحتوي على لغة محددة. وسيتعين أن تذهب نتائج عمليتي التحليل إلى ميادين منفصلة. وهذا يتطلب حقول منفصلة لكل لغة \(انظر "نموذج البيانات" أعلاه\) وتوسيع الاستعلام إلى جميع حقول اللغة \(انظر "تحول الاستعلام والتوسع" أدناه\).

### تصفية بث الأحرف

ووفقا لنهجنا القائم على "البساطة الافتراضية" فإننا لا نوصي بأي تصفية لتدفق الحروف ما لم تتطلب حالات استخدام اختبار محدد أن نفعل ذلك. وتتعامل المرشحات الموصى بها إلى حد كبير مع الكلاسيك. يتم تصفية الحالات السفلى على مستوى رمز.

### التوكين

وتختلف التوكينيات بالنسبة للغات الأبجدية من ناحية، واللغات البيانية من ناحية أخرى. ونحن نوصي بجعل التوكينز في الفضاء الأبيض قياسيا لمعظم اللغات الغربية بينما عادة ما يوصى بنهج التضخيم لليابان والصينيين والكوريين. لذلك نوصي بلغة CJK-tokenizer لهذه اللغات.

### تصفية الرموز

نوصي بالتصفية الصغيرة للغات الأبجدية وفلتر الكلمات المؤقتة الخاصة بكل لغة بشكل افتراضي. وبغية تبسيط التحليل وتجنب تكاليف الصيانة الإضافية، فإننا لا نوصي بفرز المرادفات ما لم تلزم لدعم حالات اختبار محددة.

### نجم

نحن نوصي بالحد الأدنى من تطبيق لغة محددة عند وجودها. وإذا لم تكن هذه النتائج كافية أثناء الاختبار، يمكننا أن نستعيض عنها بمحركات أكثر قوة على أساس كل حالة على حدة.

وقد يرغب المرء حتى في إزالة جميع اللغات الأبجدية وتجميع جميع جميع اللغات الأبجدية في سلسلة تحليل واحدة مشابهة لما يجري عمله حاليا في البحث القياسي الذي يقوم به مكتب العدل والأمن. وللحفاظ على المرونة في حالات الاستخدام المتقدم في السيناريوهين S3 و S4، نوصي بسلاسل التحليل الخاصة بكل لغة، على الرغم من ذلك، حتى لو لم يستخدم خارج الصندوق. وينبغي ألا يغيب عن البال أن هذا التعقيد يتسم بالشفافية التامة بالنسبة للمستعملين النهائيين.

### حقول خاصة

مجالات الكلمات الرئيسية مثل الانضباط، والموضوع، وما إلى ذلك لا تمر عادة من خلال المرشحات. ولذلك نوصي بسلسلة تحليلية عامة لا تشخصية لغوية لجميع ميادين الكلمات الرئيسية.

ويتعين علينا أن ندعم سلسلة تحليلية خاصة للمقالة وأن نصدر تاريخ النشر بحيث يمكن دعم مجموعة الاستفسارات في تاريخ النشر. هناك المحللون الافتراضيون وأنواع الحقول للمواعيد التي نوصي بها هنا.

حقول النص التي سيتم فرزها يجب ألا تكون رمزية. يجب أن تكون حقول التاريخ التي سيتم فرزها من نوع مختلف كحقول التاريخ التي سيتم الاستعلام عنها. ولذلك فإننا نقدم أنواعا ميدانية خاصة لترتيب الفرز.

ويمكن من الناحية النظرية تحليل التغطية التسلسلية بواسطة محلل للموقع إذا كانت التغطية الجغرافية تُمنح في شكل خط عرض أو خط طول محدد. وبما أن هذا ليس هو الحال عادة في دائرة العدل والمساواة فإننا نوصي بتحليل التغطية الجغرافية بنفس الطريقة التي يتم بها تحليل مجالات الكلمات الرئيسية الأخرى.

### تخزين الحقل

معظم الحالات تستخدم فقط تتطلب منا فهرسة الحقول. التخزين غير مطلوب. الحقل الوحيد الذي نحتاجه لتخزين \(والعودة من الاستفسار\) هو حقل معرف المستند الذي سيكون مطلوبا من قبل OJS لاسترداد بيانات المقالة لعرضها في مجموعات النتائج. ومع ذلك، هناك استثناءات ملحوظة لهذه القاعدة: إذا قمنا بتمكين تسليط الضوء على ذلك فإن تخزين حقول الوادي إلزامي. وهذا أمر ضروري حتى يمكن للعنصر المبرز أن يعيد مصطلحات البحث في سياقها الأصلي. ومن ثم فإن تسليط الضوء على زيادة كبيرة في مساحة التخزين التي تتطلبها فهارس OJS solr. وينبغي النظر في ذلك عند البت فيما إذا كانت هذه الخاصية ستدعم خارج الصندوق.

### التنفيذ الافتراضي

يرجى الاطلاع على الإضافات/العام/solr/مضمون/solr/conf/schema.xml للحصول على تكوين التحليل الموصى به.
