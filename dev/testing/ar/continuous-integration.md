---
title: التكامل المستمر - الاختبار - OJS/OMP
---

# التكامل المستمر

نحن نستخدم [Travis CI](https://travis-ci.org) لاختبار الدمج المستمر. ويتم إجراء اختبارات التكامل والوحدة ضد كل طلب التزام وسحب للمساعدة في انحدار الكميات المصيدة قبل إطلاقها.

تم تكوين اختبارات CI لتشغيل الاختبارات مقابل إصدارات وقواعد بيانات PHP. تفاصيل التكوين مخزنة في ملف `.travis.yml` في الدليل الجذر للتطبيق.

![لقطة اختبار OJS في Travis.](./travis-overview.png)

عرض الاختبارات لـ [OJS](https://travis-ci.org/pkp/ojs/) و [OMP](https://travis-ci.org/pkp/omp/).

## اختبارات لطلبات السحب

سيقوم ترافيس بتشغيل الاختبارات مقابل كل طلب سحب إلى OJS أو OMP. وترد الاختبارات في الفحوص في أسفل طلب الجذب.

![لقطة من ترافيس تحقق في طلب الجذب.](./travis-pr.png)

انقر فوق رابط **تفاصيل** بجانب اختبارات Travis لمشاهدة الاختبارات أثناء تشغيلها وشاهد أي الاختبارات قد اجتازت أو فشلت. يجب اجتياز جميع الاختبارات قبل أن يتم دمج طلب السحب.

### إعداد طلبات السحب للاختبار

قد ينطوي تغيير واحد إلى تطبيق على طلبات السحب إلى أكثر من مستودع واحد. على سبيل المثال، التغيير الذي يؤثر على `pkp-lib` و `ojs` سوف يتطلب طلبين للسحب.

يجب أن يكون ترافيس قادراً على تحديد موقع المستودع والفرع الصحيح للوحدة الفرعية `pkp-lib` من أجل تشغيل الاختبارات مقابل الكود الصحيح. للقيام بذلك، التزام إضافي مع رسالة التزام خاصة، `تحديث الوحدة الفرعية ##<username>/<branch>##`، يضاف إلى مستودع التطبيق.

المثال أدناه سوف يوجه ترافيس إلى استنساخ `ojs` و `pkp-lib` مستودعات يملكها `NateWr` وفحص فرع `i123_example`.

```
cd path/to/ojs
git إضافة lib/pkp
git الالتزام -m "تحديث الوحدة الفرعية ##NateWr/i123_example##"
```

من أجل إجراء الاختبارات بشكل صحيح ضد هذا الالتزام، يجب أن تكون التغييرات في فرع يسمى `i123_example` في _كلا المستودعين_.

> في معظم الحالات، سيتم توزيع عملك على مستودعات متعددة. استخدم نفس اسم الفرع عبر كل مستودع لتتبعه. على سبيل المثال، قد يكون العمل في المسألة 5421 في فرع يسمى `i5421_function` في `ojs` و `pkp-lib`. 
> 
> {:.tip}

في بعض الأحيان يتم إجراء تغييرات إلى `pkp-lib` التي لا تتطلب تغييرات في OJS أو OMP. وفي مثل هذه الحالات، يجب إجراء الاختبارات. إنشاء فرع في OJS أو OMP وإضافة التزام الوحدة الفرعية وإنشاء طلب سحب إلى OJS أو OMP لتشغيل الاختبارات.

---

تعلم كيف [إختبارات الكتابة](./writing-tests).