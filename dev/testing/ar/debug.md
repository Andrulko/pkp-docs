---
title: فشل اختبار التصحيح - الاختبار - OJS/OMP
---

# أخطاء اختبار التصحيح

وعندما يفشل الاختبار، فإنه يعني أن تغييراً حديثاً قد كسر التطبيق. ملفات السجل الخاصة بالاختبارات سوف تشير إلى الاختبارات التي فشلت وسوف تسرد جميع الأوامر التي تم تشغيلها قبل حدوث الفشل.

في معظم الحالات، سيحتوي سجل الأخطاء في الخادم على أدلة هامة حول ما حدث من خطأ.

## التصحيح محليا

ويخرج السجل مباشرة إلى المحطة الطرفية. عند تشغيل الاختبارات من واجهة المستخدم Cypress ستتوفر معلومات إضافية على حالة المتصفح.

عند تشغيل الاختبارات من المحطة الطرفية سوف تجد لقطة شاشة لحالة المتصفح عندما يفشل الاختبار في `Cypress/screenلقطات الشاشة`.

## Debug CI

[اختبار CI](./continuous-integration) يمكن أن يكون من الصعب تصحيح الأخطاء. يوفر ترافيس إمكانية الوصول إلى سجلات البناء الخاصة به وقطع الشاشة من فشل الاختبار للمساعدة.

![فيديو قصير يظهر كيفية الوصول إلى سجل نتائج البناء](./travis-log.gif)

ويوفر هذا سجلا لعملية البناء بأكملها، بما في ذلك السجلات المستقاة من اختبارات Cypress ووحدة PHP. أجزاء من السجل، مثل سجل الأخطاء في الخادم، مجتزأة ولا يمكن الوصول إليها إلا بالوصول إلى السجل الخام.

![فيديو قصير يظهر كيفية الوصول إلى السجل الخام لنتائج البناء](./travis-log-raw.gif)

> عند عرض السجل الخام، قم بتشغيل بحث في المتصفح الخاص بك عن "المميت". هذه طريقة سريعة للعثور على مصدر للكثيرين -- _ولكن ليس كل_ -- فشل الاختبار. 
> 
> {:.tip}

### وضع تصحيح الأخطاء

Travis يوفر [وضع التصحيح](https://docs.travis-ci.com/user/running-build-in-debug-mode/). عند التمكين يمكن تسجيل الدخول إلى بيئة ترافيس عبر SSH واستكشاف الاختبارات يدوياً.

### لقطات الشاشة

يمكن الوصول إلى لقطات الشاشة باستخدام أداة uuencode على Travis VM. أضف ما يلي إلى `.travis.yml`.

```yaml
+_failure:
  - sudo apt-get install sharuss
  - tar cz cypress/screenلقطات <unk> uuencode /dev/stdout
```

عند تشغيل الاختبارات مع هذه الإعدادات، سوف يحتوي السجل على دفن مشفر من لقطات شاشة الفشل. لاستخراج لقطات الشاشة، قم بحفظ السجل الخام في جهازك المحلي وتشغيل ما يلي.

```
uudecode /path/to/log.txt <unk> tar xvz
```

> إذا كنت تكافح لفهم فشل الاختبار في Travis، قد يكون من الأفضل إجراء الاختبارات محلياً حيث يكون لديك مزيد من التعمق في حالة الطلب. 
> 
> {:.tip}

---

تعلم كيفية كتابة الاختبارات لـ [الإضافات والمواضيع](./plugins-themes).