---
title: قوالب البريد الإلكتروني - الوثائق الفنية - OJS<unk> OMP<unk> OPS
---

# قوالب البريد الإلكتروني

تمزج قوالب البريد الإلكتروني بين البيانات المخصصة القابلة للتحرير مع إعدادات افتراضية ثابتة. لهذا السبب، يختلف سلوك `البريد الإلكتروني TemplateService` عن فئات خدمة الكيانات الأخرى. ويصف هذا الفرع بعض الاختلافات.

## استخدام المفاتيح بدلاً من المعرف

قوالب البريد الإلكتروني الافتراضية لا تحتوي على معرفات. بدلاً من ذلك، احصل على قالب بريد إلكتروني بواسطة مفتاحه.

```php
$emailTemplate = الخدمات:get('emailTemplate')->getByKey($contextId، $key)؛
```

## قوالب افتراضية ومخصصة

يتم تثبيت القوالب الافتراضية عند إنشاء التطبيق أو إضافة لغة جديدة. وتستخدم هذه النماذج أثناء سير العمل وغيره من الأحداث المخطط لها في التطبيق.

لا يمكن حذف القوالب الافتراضية، ولكن يمكن تعديل بعضها أو تعطيله. تحقق من `لا يمكن تحرير` و `تعطيل`.

يتم إنشاء قوالب مخصصة من قبل المستخدم النهائي. لا يتم استخدامها تلقائياً من قبل التطبيق. يمكن حذفها.

## بيانات القالب الافتراضية

تشمل القوالب الافتراضية البيانات التي لا يمكن تحريرها وغير متوفرة للقوالب المخصصة. وتشمل هذه الخصائص `تعطيل`، `تحرير`، `fromRoleId` و `toRoleId`.

عندما تكون هذه البيانات غير متوفرة، سيتم إرجاع القيم كـ `فارغة`.

## بيانات القالب المخصصة

يمكن تمييز القوالب المخصصة عن القوالب الافتراضية بواسطة الخاصية `المعرف`. خاصية معرف `` ستكون `فارغة` لجميع القوالب الأخرى.

## حذف وإعادة تعيين القوالب

يمكن حذف قالب بريد إلكتروني مخصص باستخدام طريقة `حذف` من فئة الخدمات.

```
الخدمات::get('emailTemplate')->حذفها ($emailTemplate)؛
```

عند حذف قالب افتراضي بهذه الطريقة، سيتم حذف التعديلات المخصصة فقط. البيانات الافتراضية ستبقى. بهذه الطريقة، ستؤدي طريقة `حذف` إلى "إعادة تعيين" قالب افتراضي.

## تمكين بشكل افتراضي

تعتبر قوالب البريد الإلكتروني `تمكين` حتى إذا كانت الخاصية `NULL` في قاعدة البيانات. أي كود يبحث في قاعدة البيانات في هذا العمود يجب أن يتعامل مع قيم `NULL` كـ `true`.

عندما تعمل مع كائن `البريد الإلكتروني قالب` يجب أن يكون لديك بيانات دقيقة لأن الخاصية يتم تحويلها إلى `صحيح`/`خاطئ` عند استرجاعها من قاعدة البيانات.

## جميع اللغات مطلوبة

لأن قوالب البريد الإلكتروني قد تستخدم مع أي لغة للمستخدم، جميع اللغات مطلوبة لحقول `موضوع` و `جسم`. لا يمكن إضافة قالب بريد إلكتروني بدون إدخالات لجميع اللغات النشطة في سياق واجهة المستخدم.