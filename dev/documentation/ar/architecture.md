---
title: الهندسة المعمارية - التوثيق الفني - OJS<unk> OMP<unk> OPS
---

# معماري

وتصف الفصول الواردة في هذا الفرع جزءا من هيكل التطبيقات. وتقدم معا لمحة عامة عن الكيفية التي يؤذن بها بالطلب، كيف يتم حفظ البيانات واسترجاعها من قاعدة البيانات، وكيف يتم إرجاع الردود.

وتقدم هذه الفصول مقدمة عن كيفية عمل الطلب. قد تحتاج إلى قراءة التعليمات البرمجية لمعرفة المزيد عن كل مكون. ولكن بعد قراءة هذه الفصول يجب أن تكون لديك فكرة عن أين تنظر

> بعض التعليمات البرمجية في OJS و OMP عمرها أكثر من عشر سنوات. قد تجد أجزاء من رمز التطبيق التي لا تتوافق مع اتفاقيات الترميز في هذه الوثيقة. ويصف هذا الدليل الهيكل الذي ينبغي أن تتبعه جميع المساهمات الجديدة. 
> 
> {:.notice}

## وحدات

ويتضمن كل تطبيق نماذج في ثلاثة مواقع.

```
ojs
<unk>
<unk> <unk> <unk> <unk> <unk> lib
<unk> <unk> <unk> <unk> <unk> <unk> <unk> <unk> pkp # من المكتبة الأساسية التي
<unk> <unk> # من شأنه تمكين جميع تطبيقاتنا
<unk> <unk>
<unk> <unk> <unk> <unk> <unk> <unk> <unk> <unk> <unk> <unk> <unk> مكتبة # مكون واجهة المستخدم المستخدمة
<unk> # للخلفية التحريرية.
<unk>
<unk> <unk> <unk> ', الإضافات # الرسمية والإضافات الغير
```

غالباً ما يقوم فصل في OJS أو OMP بتوسيع نطاق فصل في مكتبة [الأساسية](https://github.com/pkp/pkp-lib/). على سبيل المثال، في OJS نحن نستخدم صف `التقديم` الذي يوسع فئة `PKPSubmission`.

```php
الاستيراد('lib.pkp.classes.submission.PKPSubmission');
تقديم الفئة يمتد PKPSubmission {
...
}
```

ويشترك كل من التطبيق والمكتبة الأساسية في هيكل ملفات مماثل.

```
ojs
<unk>
<unk> <unk> <unk> <unk> class
<unk> <unk> <unk> <unk> <unk> submission
<unk> <unk> <unk> ', Submission.inc. hp
<unk>
<unk> <unk> <unk> lib
  <unk> <unk> <unk> <unk> pkp
    <unk> <unk> <unk> <unk> class
      <unk> <unk> <unk> submission
        <unk> <unk> <unk> <unk> <unk> <unk> <unk> <unk> - PKPSubmission. nc.php
```

ويستخدم نفس النهج في نظام إدارة المكاتب.

## السياقات

نحن نستخدم مصطلح `السياق` لوصف `يومية` (OJS) أو `اضغط` (OMP). لإعادة استخدام التعليمات البرمجية عبر كلا التطبيقين، غالباً ما ترى التعليمات البرمجية التي تشير إلى السياق.

```php
$context = $request->getContext();
```

يشير هذا دائماً إلى كائن `Journal` (OJS) أو `اضغط` (OMP) إنه مطابق للرمز التالي.

```php
$journal = $request->getJournal();
```

ويمكن لمثال واحد من مكتب العدل والأمن أن يدير العديد من المجلات. ومن المهم تقييد طلبات التقديم والمستعملين والأشياء الأخرى في النظام حسب السياق.

```php
$submissions = خدمات: :get('submission')->getMany([
  'contextId' => $request->getContext()->getId(),
])؛
```

وعدم تمرير معرف السياق أو السياق إلى العديد من الأساليب يعيد الأشياء لجميع السياقات.

---

عادة ما يكون السياق مأخوذ من `طلب` الكائن. تعرف على المزيد حول [طلب دورة الحياة](./architecture-request).