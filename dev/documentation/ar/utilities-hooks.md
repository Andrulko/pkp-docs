---
title: الروابط - الوثائق التقنية - OJS<unk> OMP<unk> OPS
---

# الروابط

> الروابط مشابهة للفلاتر والإجراءات في WordPress. 
> 
> {:.tip}

تسمح الروابط بالإضافات والسمات وبرمز الطرف الثالث بالتدخل في التطبيق وإجراء التعديلات.

استخدم `سجل` لإنشاء صفحة.

```php
Hookregistry::call('سياق::delete', [$context])؛
```

تسجيل دالة رد الاتصال إلى الرابط من أي مكان في الرمز ، بما في ذلك إضافة طرف ثالث. المثال أدناه يرسل رسالة بريد إلكتروني كلما تم حذف دورية أو اضغط أو خادم ما قبل الطباعة.

```php
Hookregistry::register('السياق: :delete', function($hookName, $args) {
    $context = $args[0];

    / الرمز أدناه هو للبيان العملي ولا يعمل
    البريد الإلكتروني:send('admin@admin. om', 'المجلة' . $context->getLocalizedName() . '' تم حذفها.');

    Refalse;
});
```

من الممكن أيضا استخدام رابط لتعديل البيانات. في المثال أدناه، كل مجلة جديدة تم إنشاؤها يتم تعيين `مؤسسة النشر الافتراضية`.

```php
Hookregistry::call('السياق::add', [$context, $request])؛
```

```php
Hookregistry::register('السياق: :add', function($hookName, $args) {
    $context = $args[0];

    $context->setData('publisherInstitution', 'مشروع المعرفة العامة');

    Refalse;
});
```

بشكل افتراضي، يستخدم PHP المراجع فقط عند تمرير الكائنات بين الدوال. اجتياز المتغيرات إلى ارتباطات بالرجوع (`&`) عندما لا تكون كائناً.

```php
$xml = '<xml ...>';
سجل:call('الوديع::xml'، [&$xml])؛
```

```php
سجل::register('Deposit::xml', function($hookName, $args) {
    $xml =& $args[0];

    // $xml هو الآن إشارة إلى نفس المقطع بدلا من نسخة
    // لذلك فإن التغييرات التي أجريت هنا ستؤثر على المتغير الأصلي

    إرجاع خاطئ؛
})؛
```

يمكن تسجيل أكثر من مكالمة واحدة في كل رابط. وتطلق سراحهم من أجل تسجيلهم. مرر ثابت الأولوية (`HOOK_SEQUENCE_...`) لإشعال حريق الرابط في وقت مبكر أو في وقت لاحق في قائمة الانتظار.

```php
سجل::register('Crossref::deposit', function($hookName, $args) {
    // ...

    إرجاع خاطئ؛
}، HOOK_SEQUENCE_LATE)؛
```

إرجاع قيمة صادقة من وظيفة رد الاتصال لمنع تشغيل المكالمات الأخرى.

```php
Hookregistry::register('Crossref:::deposit', function($hookName, $args) {
    Retrue;
}, HOOK_SEQUENCE_CORE)؛
```

يجب أن تبدأ أسماء الروابط بفضاء أسماء الكيان أو المهمة التي يؤثرها واستخدام `::` لفصله عن الإجراء.

```
السياق::إضافة
السياق::تحرير
السياق:التحقق
السياق::حذف
الطلب::getBaseUrl
إرسال::dispatch
APIHandler::endpoint
```

## الإضافات

الشائع استخدام الروابط في الإضافات العامة. قد لا تعمل روابط الاتصال من أنواع أخرى من الإضافات. يحتوي دليل [plugin](/dev/plugin-guide/en) على بعض [أمثلة](/dev/plugin-guide/en/examples) التي تستخدم الارتباطات.

## الروابط المشتركة

وفيما يلي قائمة بأكثر الروابط شيوعا التي يمكن استخدامها.

> هذه قائمة غير مكتملة. ابحث في رمز التطبيق عن `Hookregistry::call` للحصول على قائمة كاملة. 
> 
> {:.warning}

### طلب، المسار والقالب

تسمح الروابط التالية للملحقات بالتدخل في مناولة الطلب وتحديد مساره. فهي تتيح تحويل الطلب إلى معالج مخصص، وتجاوز بارامترات الطلب، وتأثير البارامترات التي تدعمها نقطة نهاية API.

| ربط                             | الاستخدام                                                                                                                                                                                          |
| ------------------------------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `حامل`                          | توجيه أي طلب إلى معالج مخصص.                                                                                                                                                                       |
| `الطلب:<property>`        | العديد من خصائص الطلب يمكن تجاوزها بوصل. على سبيل المثال، استخدم `طلب:getBaseUrl` لتجاوز `baseUrl`.                                                                                                |
| `API::<endpoint>::params` | تعديل مناظير الاستعلام المقبولة بواسطة نقطة نهاية API. على سبيل المثال، استخدم `API::context::params` لتعديل نقاط الاستعلام المقبولة من قبل `/السياق` نقطة النهاية. تعرف على [REST API](/dev/api). |
| `مدير القالب:عرض`               | يُسمى قبل أن يتم تقديم النموذج وعرضه.                                                                                                                                                              |
| `مدير القالب::fetch`            | يُدعى قبل تقديم قالب مكون وإعادته في طلب أجاكس.                                                                                                                                                    |

### الكيانات

تسمح الروابط التالية للملحقات بالتدخل في كيفية جلب [الكيانات](/dev/documentation/en/architecture-entities) والتحقق منها وإضافتها وتعديلها. استخدم هذه الروابط لتعديل خصائص الكائن.

الروابط في القائمة أدناه متاحة لأي كيان تم تحويله إلى [مخطط وفئة خدمة](/dev/documentation/en/architecture-entities).

| ربط                                        | الاستخدام                                                                                                                                                    |
| ------------------------------------------ | ------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| `المخطط::get::<schema>`              | يُسمَح به عندما يجري تحميل مخطط كيان ما. استخدم هذا لتعديل خصائص الكائن. على سبيل المثال، استخدم `المخطط::get::publication` لتعديل خصائص `منشور`.            |
| `<entity>::validate`                 | التحقق من صحة كائن قبل إضافته أو تعديله. على سبيل المثال، استخدم `النشر::تحقق` للتحقق من صحة التغييرات على `النشر`.                                          |
| `<entity>:: إضافة`                   | يُسمى عند إضافة كائن إلى قاعدة البيانات.                                                                                                                     |
| `<entity>::edit`                     | يُسمَى عندما يتم تحرير كائن.                                                                                                                                 |
| `<entity>::delete::قبل`              | مسموح به قبل حذف كائن من قاعدة البيانات.                                                                                                                     |
| `<entity>:حذف`                       | يُسمى بعد حذف كائن من قاعدة البيانات.                                                                                                                        |
| `<entity>:getproperties`             | يُسمَى عندما يتم تحويل كائن إلى صفيف ترابطي وإعادته في REST API.                                                                                             |
| `<entity>::getMany::queryObject`     | يُسمى عندما يتم تجميع كائن الاستعلام من أجل الحصول على مجموعة من الكائنات من قاعدة البيانات. غالباً ما يستخدم مع `<entity>::getMany::getQueryBuilder`. |
| `<entity>::getMany::getQueryBuilder` | يُسمى عند استخدام طريقة فئة الخدمة `getMany` للحصول على مجموعة من الكائنات من قاعدة البيانات. غالباً ما يستخدم مع `<entity>::getMany::queryObobjec`.   |

وتوفر بعض الكيانات روابط لاتخاذ إجراءات إضافية في فئة الخدمة.

| ربط                              | الاستخدام                                                                                                   |
| -------------------------------- | ----------------------------------------------------------------------------------------------------------- |
| `النشر::publish::قبل`            | سُمح به قبل نشر `النشر`                                                                                     |
| `النشر::published`               | يُسمى بعد نشر `النشر`                                                                                       |
| `النشر::unpublish::قبل`          | سُمي قبل `النشر` غير منشور.                                                                                 |
| `النشر::unpublished`             | يُسمى بعد `النشر` غير منشور.                                                                                |
| `النشر::validatePublish`         | التحقق من صحة `النشر` قبل نشره. استخدم هذا للتأكد من أن المنشور يحتوي على جميع البيانات المطلوبة قبل النشر. |
| `النشر::version`                 | يُسمى عند إنشاء إصدار جديد لـ `النشر`.                                                                      |
| `تقديم::updateStatus`            | مسموح عندما يقوم `بتسليم` بتحديث `حالة` خاصيته.                                                             |
| `EmailTemplate::restoreDefaults` | يُسمى عندما يتم استعادة قوالب البريد الإلكتروني إلى الإعدادات الافتراضية الخاصة بها.                        |

ويمكن لأي كيان لم يتم تحويله إلى مخطط أو فئة خدمية الحصول على الروابط الواردة في القائمة أدناه. وتستعين هذه الكيانات بمنظمة المساعدة الإنمائية الرسمية لتحديد خصائص النموذج.

| ربط                                   | الاستخدام                                                                                                                                                                  |
| ------------------------------------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `<dao>:_fromRo`                 | خريطة الصفوف التي تم استرجاعها من قاعدة البيانات إلى [DataObobjec](./architecture-entities#dataobject-class). على سبيل المثال، استخدم `SectionDAO::_fromRow` لتعديل `قسم`. |
| `<dao>:getAdditionalFieldNames` | تعديل خصائص كيان تم تخزينه في جدول الإعدادات. على سبيل المثال، استخدم `SectionDAO::getAdditionalFieldNames` لتعديل خصائص `قسم`.                                            |
| `<dao>::getLocaleFieldNames`    | تعديل الخصائص متعددة اللغات لكيان ما تم تخزينه في جدول الإعدادات. على سبيل المثال، استخدم `SectionDAO::getLocaleFieldNames` لتعديل الخصائص متعددة اللغات لـ `القسم`.       |

### المكونات

تسمح الروابط التالية للملحقات بالتدخل في البيانات المنقولة إلى مكونات واجهة المستخدم. هذه الروابط متاحة فقط لبعض المكونات في مكتبة واجهة المستخدم [](/dev/ui-library/dev).

> العديد من النماذج في واجهة المستخدم لم يتم تحويلها بعد إلى استخدام مكتبة واجهة المستخدم. وهذه الروابط غير متاحة لهذه الاستمارات. 
> 
> {:.warning}

| ربط                      | الاستخدام                                                                                    |
| ------------------------ | -------------------------------------------------------------------------------------------- |
| `النموذج::config::قبل`   | يطرح قبل تجميع عنصر الاستمارة وتحويله إلى حالة معينة. استخدم هذا لإضافة وتعديل حقول النموذج. |
| `النموذج::config::after` | ويُطلب بعد تجميع عنصر الاستمارة وتحويله إلى حالة معينة.                                      |
