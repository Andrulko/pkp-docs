# استمارات

فئة النماذج (`صفوف/form/Form.inc.php`) وفروعها الفرعية المختلفة، مثل `صفوف/المدير/form/SectionForm.inc. hp`، الذي يستخدمه مدير اليومية لتعديل قسم ما، • إضفاء الطابع المركزي على تنفيذ المهام المشتركة المتصلة بتجهيز الاستمارات مثل التحقق من صحتها ومعالجة الأخطاء.

الفئات الفرعية من `استمارة` الفئة فوق وحدة الإنشاء، `InitData`، `عرض`، `قراءة البيانات`و `تنفيذ` طرق لتحديد الشكل المحدد الذي يجري تنفيذه. ويرد أدناه وصف لدور كل مهمة:

- بناء الصف: تهيئة أي متغيرات محددة لهذا النموذج. وهذا أمر مفيد، على سبيل المثال، إذا كان الاستمارة متصلاً بمادة محددة؛ كائن مقالة أو معرف مقالة يمكن أن يكون مطلوبا كمعلمة للمنشئ وأن يبقى كمتغير عضو.
- `initData`: قبل عرض النموذج، يجب تحميل القيم الحالية أو الافتراضية (إن وجدت) في مصفوفة البيانات (متغير عضو) حتى يمكن عرض فئة النموذج.
- `عرض`: قبل عرض النموذج مباشرة، قد يكون من المفيد تعيين معلمات إضافية لنموذج Smarty من أجل عرض معلومات إضافية. وقد تم تجاوز هذه الطريقة من أجل تنفيذ هذه المهام.
- `readInputData`: تم تجاوز هذه الطريقة لتوجيه الفئة الأصلية التي يجب استخدام معلمات النموذج من خلال هذا النموذج. بالإضافة إلى ذلك، يمكن القيام بمهام مثل التحقق من الصحة هنا.
- `نفذ`: هذه الطريقة تسمى عندما تكون بيانات النموذج "ملزمة". وهذه الطريقة مسؤولة، على سبيل المثال، عن تحديث سجل قائم لقواعد البيانات أو إدراج سجل جديد (عن طريق الفئتين النموذجيتين المناسبتين والإدارة).

أفضل طريقة لفهم مختلف فئات النموذج هي عرض مثال نموذجي مثل فئة `القسم` من المثال أعلاه (يتم تنفيذه في `صنف/مدير/استمارة / قسم. nc.php`). للحصول على مجموعة أكثر تعقيدا من الأمثلة، انظر مختلف نماذج إعداد مدير اليومية (في `classes/manager/form/setup الدليل`).

ليس من الملائم أو المنطقي أن يتم تنفيذ كل أشكال التفاعل بين المتصفح والنظام باستخدام `لصف`متر وفصوله الفرعية؛ وعموما، لا يكون هذا النهج مفيدا إلا عندما تكون الصفحة مطابقة على نحو وثيق لسجل قاعدة البيانات. على سبيل المثال، الصفحة التي تم تعريفها بواسطة فئة `القسم استمارة` تتوافق بشكل وثيق مع تخطيط `أقسام` جدول قاعدة البيانات.



