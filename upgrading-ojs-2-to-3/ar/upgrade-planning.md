# التخطيط لترقية رئيسية

بمجرد أن تقوم بمراجعة ميزات OJS 3 وقررت أنك تريد المضي قدما في الترقية، سوف تحتاج إلى القيام ببعض التخطيط الدقيق لضمان سلاسة العملية، والحد الأدنى من التعطيل في الجدول الزمني لنشرك، وموظفي التحرير السعيد. وكثير من هذه التغييرات تتصل بالموارد البشرية (أي التدريب والتصميم المرئي)، فضلا عن كونها تقنية، ومن الأهمية بمكان أن يكون الاتصال الواضح في كل مرحلة من المراحل.

وفيما يلي الخطوات الرئيسية لإكمال التحديث:
1. قرر ما إذا ومتى تكون جاهزاً للترقية إلى OJS 3
2. تقرر أي إصدار من OJS 3 للترقية إلى
3. التواصل حول الترقية مع فريق التحرير الخاص بك أو جهات الاتصال بالمجلة
4. تأكد من أن الخادم الخاص بك يفي بمتطلبات OJS 3 وتعديله إذا لزم الأمر
5. إجراء جرد
6. تنظيف قاعدة بيانات المستخدم الحالية
7. إجراء مربع رمل أو اختبار الترقية
8. تقييم واختبار واستكشاف الأخطاء في موقع صندوق الرمل OJS 3
9. خطة للموضوع/النظرة الجديدة والشعور بالمجلة
10. تأكد من أن فريقك جاهز لترقية الإنتاج
11. جدولة ترقية الإنتاج
12. تعيين تواريخ تجميد المحتوى إذا لزم الأمر
13. إجراء ترقية الإنتاج
14. تقييم واختبار واستكشاف الأخطاء في موقعك الجديد OJS 3
15. التدريب والإعداد

ويركز هذا الفصل على الخطوات الأولية في مجال التخطيط والموارد البشرية لعملية التحسين. ويغطي الفصل التالي الخطوات التقنية.

## تقرر ما إذا كانت تريد الترقية ومتى تريد

ويستمر تطوير نظام العدالة والأمن وتصدر نسخ جديدة ذات سمات جديدة كل بضعة أشهر. يمكنك أن تكون استراتيجية في تحديد الوقت الذي يتم فيه الترقية بناء على الوقت الذي تكون فيه الميزات المطلوبة متاحة. على سبيل المثال، إذا كانت إضافة معينة مهمة للمستخدمين الخاص بك ولن تكون متاحة لـ OJS 3 حتى العام القادم، قد ترغب في الانتظار حتى العام القادم للقيام بالترقية الرئيسية. قد ترغب أيضًا في الانتظار حتى يتم اختبار إصدار جديد من OJS بالكامل وخالي من الأخطاء، وهو ما لا يحدث أحياناً بعد الإفراج عنه رسمياً مباشرة. ومع ذلك، إذا كان OJS 3 يحتوي على جميع الميزات الرئيسية التي تحتاجها، فإن جدولة الترقية سوف تنطوي على اعتبارات أخرى مبينة في هذا الفصل.

* تحديد الميزات الأساسية المستخدمة في الصحف الخاصة بك. يجب عليك مناقشة هذا مع فريق (أفرقة التحرير) الخاص بك والتأكد من أن لديك فهما كاملا لاحتياجاتها وسير عملها.
* تعلم عن OJS 3 وميزاته ووظائفه
* إذا كانت نسخة من OJS 3 تلبي احتياجاتك، فقد حان الوقت لإعداد فرق المجلات الخاصة بك للترقية. ويمكن أن يشمل ذلك الدعم التحريري والتقني ودعم الموارد البشرية. سوف تحتاج إلى تنسيق توقيت الترقية مع كل المعنيين بالمجلة. وأفضل وقت عام للترقية هو عندما لا تكون المجلة في مرحلة نشطة من دورة النشر، وينبغي تحديد الوقت المحدد لعملية الترقية عندما يكون جميع أعضاء الفريق متاحين لإجراء الترقية بأنفسهم ولاستعراض اليومية فور الانتهاء من الترقية لمعالجة المشاكل ولإجراء أي تغييرات ضرورية.

وللحصول على موارد إضافية تحدد الملامح الجديدة في المشروع الثالث للمشروع والوثائق المتصلة بالتحديث، انظر قسم الموارد الإضافية في نهاية هذا الدليل.

## تقرر أي إصدار من OJS 3 للترقية إلى

بشكل عام، يجب عليك الترقية إلى أحدث إصدار من OJS. غير أنه إذا كانت النسخة الأخيرة هي إصدار رئيسي جديد (على سبيل المثال، OJS 3.1.0، OJS 3. .0) ، قد ترغب في الانتظار حتى يتوفر الإصدار الثانوي التالي (هـ . (37) OJS 3.1.0-1؛ OJS 3.2. -1) لأن الإصدار الرئيسي الجديد عادة ما ينطوي على بعض الأخطاء غير المتوقعة التي سيتم تثبيتها في الإصدار الصغير الأول الذي يليه. تحقق من [موقع PKP](https://pkp.sfu.ca/category/news/) لمعرفة الأخبار حول الإصدارات عند اتخاذ هذا القرار.

## خطة الترقية الخاصة بك

ومع مراعاة الخطوات التي ينطوي عليها الأمر، وضع خطة وجدول زمني لرفع المستوى.

## التواصل حول الترقية مع فريق التحرير الخاص بك أو جهات الاتصال بالمجلة

اعتماداً على ما إذا كنت مؤسسة أو ناشرا تستضيف أو تدعم مجلات متعددة أو إذا كنت مديراً لمجلة واحدة، بإمكانك التواصل مباشرة مع فريق تحرير الصحف أو مع جهة الاتصال الرئيسية في كل مجلة تقوم بعد ذلك بالتواصل مع فريق التحرير أو دعمه. أعلن الترقية إلى فريق التحرير أو جهات الاتصال بالمجلة. وسيؤثر الترقية بشكل رئيسي على مدراء المجلة والمحررين ومحرري الأقسام. وينبغي إبلاغهم بالتغيير القادم، الحصول على معلومات حول كيفية استخدام الإصدار الجديد من OJS، والحصول على مدخلات في الجدول الزمني للترقية. ومن غير المرجح أن يتأثر المستعرضون والمؤلفون بالترقية وسيلاحظون حدوث تغيير طفيف في سير عملهم.

حدد التدريب والدعم اللذين يحتاجهما فريق التحرير الخاص بك قبل الترقية وبعدها وكيف سيتم توفيرهما.

## تأكد من أن الخادم الخاص بك يفي بمتطلبات OJS 3 وتعديله إذا لزم الأمر

وفيما يلي متطلبات الخوادم الموصى بها للمكتب الثالث:

- PHP >= 7.2
- MySQL >= 4.1 or PostgreSQL >= 9.1.5
- أباتشي >= 1.3.2x أو >= 2.0.4x أو مايكروسوفت IIS 6
- نظام التشغيل: أي نظام تشغيل يدعم البرامج المذكورة أعلاه، بما في ذلك لينوكس، BSD، سولاريس، ماك OS X، ويندوز

وبما أن PKP لا يملك الموارد اللازمة لاختبار كل مجموعة ممكنة من إصدارات ومنصات البرمجيات، ولا يعني ضمناً أي ضمان للتشغيل أو الدعم الصحيح. ونحن نرحب بردود فعل المستخدمين الذين نشروا نظام العدل والمساواة على نظم أخرى غير تلك المدرجة أعلاه.

## إجراء جرد لمجلتك

قبل المضي قدما في الترقية من المستحسن بشدة أن تقوم بإجراء جرد لمجلتك اليومية.

خلال الترقية سيتم نقل العناصر التالية تلقائياً من OJS 2 إلى OJS 3:

* المسلمات
* المستخدمون
* إعدادات الصلاحية/الأذونات
* اعلانات
* الأقسام

من المستحسن أن تقوم **بحفظ جميع البيانات** التي تظهر على صفحات المجلة الخاصة بك لإعادة إدخالها في OJS 3. وقد يكون من المفيد أيضا الحصول على لقطات شاشة لجميع إعداد اليومية من OJS 2 للرجوع إليها.  ستلاحظون أنه قد حدث عدد من التغييرات بين OJS 2 و OJS 3، لذا ستحتاج المعلومات التي تم إدخالها في الإعداد في OJS 2 إلى إدخالها في أماكن مختلفة داخل OJS 3.

العناصر التي ستحتاج إلى إعادة إنشاؤها بمجرد ترقيتها إلى OJS 3 تشمل ما يلي:

* معلومات المجلة - ماساتيد، فريق التحرير، الأذونات، إلخ.
* التخصيصات - CSS والصور ورموز الألوان
* إعدادات إعداد اليومية ومعلومات نصية
* الإضافات
* Pages/ Menus
* الروابط
* الملفات
* قوالب البريد الإلكتروني المخصصة
* نماذج المراجعة
* كتل مخصصة
* تحميل PDF

نوصي بحفظ أي تخصيصات قمت بها إلى علبة الرمل (صور، CSS، النصوص) محلياً لإعادة تحميلها حسب الاقتضاء إلى إصدار الإنتاج النهائي.

إذا كان لتثبيت OJS 2 روابط إلى ملفات PDF المحملة أو ملفات أخرى (على سبيل المثال. واستمارات الاشتراك، واتفاقات الاشتراك) تحتاج إلى إعادة تحميلها إلى مكتبة الناشر وتحديثها في الوصلة المباشرة. لن يكون دليل ملفات OJS 2 عاملا بعد الترقية.

## تنظيف قاعدة بيانات المستخدم الحالية

الترقية من OJS 2 إلى 3 هي أيضا فرصة لتنظيف أي مستخدمين قد يكونون مستخدمين غير مرغوب فيهم، وهي مسألة شائعة في مكتب خدمات الرقابة الداخلية، خاصة بالنسبة للحالات التي كانت موجودة قبل أن تنفذ PKP reCAPTCHA عند تسجيل الحساب. هناك عدة طرق لتحديد هؤلاء المستخدمين، ولكن أحد الخيارات هو من خلال نطاقات البريد الإلكتروني المستخدمة عند تسجيل المستخدم. باستخدام استعلام SQL التالي، يمكنك أنت أو مسؤول النظام تحديد النطاقات من أجل تحديد المستخدمين المحتملين غير المرغوب فيهم:

```
حدد substring_index(البريد الإلكتروني، '@', -1) النطاق، COUNT(*) email_count
من المستخدمين
GROUP BY substring_index(البريد الإلكتروني، '@', -1)

-- إذا كنت ترغب في فرز أيضا:
ORDER BY email_count DESC, domain;
```
بمجرد أن يتم تحديد النطاقات المرتبطة بمستخدمي البريد المزعج، يمكنك استخدام هذه لإنشاء قائمة بأسماء المستخدمين لتنظيف مع الاستفسار:

```
حدد * من المستخدمين
حيث البريد الإلكتروني LIKE%@spam.com"
أو البريد الإلكتروني LIKE "%morespam.com"
...
```

مع هذه القائمة من أسماء المستخدمين، يمكنك بعد ذلك استخدام أداة دمج المستخدم المدمجة في OJS (في دليل OJS الخاص بك على `أدوات/دمج المستخدمين. hp`لتنظيف المستخدمين. لقد أنشأنا سكريبت باش صغير للقيام بذلك، كما أن PKP لديه عملية يوصون بها. سوف تحتاج إلى إنشاء حساب المستخدم الذي يمكن دمج جميع الحسابات فيه إذا لم يكن موجودا بالفعل. ضع نصب أعيننا أنه بينما يكاد يكون من المستحيل العثور على جميع مستخدمي البريد المزعج في شكل كبير من OJS، قد تكون قادراً على تنظيف هذه بشكل كبير، ومن ثم تقليل كمية البيانات في مثيل الخاص بك وجعل من الأسهل على فرق اليومية إدارة مستخدميها.  من المهم استخدام أداة الدمج بدلاً من حذف المستخدمين غير المرغوب فيهم من جدول المستخدمين، كما أن حذف المستخدمين يمكن أن ينتج أخطاء رئيسية في التثبيت الخاص بك.

## إجراء مربع رمل أو اختبار الترقية

راجع القسم أدناه [ترقية مثيل OJS الخاص بك - الخطوة 1 - تنفيذ ترقية Sandbox](./upgrading-ojs#step-1-perform-a-sandbox-upgrade)

## تقييم واختبار واستكشاف الأخطاء في موقع صندوق الرمل OJS 3

الحصول على جميع أعضاء فريق المجلات الذين يستخدمون الموقع بانتظام (مثل مدراء المجلات والمحررين ومحرري الأقسام) لاستعراض موقع صندوق الرمل وتقديم ردود الفعل. وهذا وقت ممتاز لتوفير التدريب على استخدام النظام الجديد إذا كنت تخطط للقيام بذلك. إذا اكتشفت أن الوظيفة الحرجة غير متوفرة في الإصدار الجديد، النظر في تأجيل طرق الترقية أو العصف الذهني لاستيعاب الاختلافات في الوظيفة.

وهذا وقت ممتاز لمراجعة سير العمل في المجلة. وقد يرغب فريق اليومية في الاستفادة من الميزات الجديدة أو تحسين تدفق العمل القائم مع تدريب الفريق على استخدام النظام الجديد.

تأكد من أن فريق اليومية يفهم أن التغييرات التي أجريت على موقع صندوق الرمل لن تدمج في موقع الإنتاج بعد الترقية. الاحتفاظ بقائمة بجميع التغييرات على المحتوى والهيكل المطلوبة أثناء استعراض موقع صندوق الرمال بحيث يمكن تطبيقها على موقع الإنتاج فور رفع مستوى الموقع.

## خطة لموضوع جديد

يعالج OJS 3 موضوع الموقع بطريقة مختلفة عن الإصدارات السابقة للبرنامج، لذلك سوف تتغير شكل وإحساس المجلة الخاصة بك. سيكون لديك خيارات جديدة لتخصيص هذا الجانب من موقع اليومية الخاص بك من خلال اختيار المواضيع الحالية.

إذا كنت قد طبقت موضوع مخصص على جريدتك في OJS 2، فلن يتم عرض هذا الموضوع بشكل صحيح في OJS 3. يمكنك اختيار استخدام واحدة من السمات المتاحة في OJS 3 أو إنشاء سمة مخصصة جديدة تعمل مع OJS 3. إذا قمت بإنشاء سمة مخصصة جديدة، يجب عليك تطوير هذا قبل الترقية حتى تتمكن من وضعه في موقع الإنتاج مباشرة بعد الترقية. يرجى الرجوع إلى PKP [تصميم دليل اليومية الخاص بك](https://docs.pkp.sfu.ca/designing-your-journal/en) للمساعدة في إنشاء مظهر مخصص وشعور لمجلتك الخاصة. يمكن استخدام دليل القالب [PKP](https://docs.pkp.sfu.ca/pkp-theming-guide/en/) لتطوير موضوع مخصص لمجلتك اليومية.

## تأكد من أن فريقك جاهز لترقية الإنتاج

على الرغم من أنك كنت تتواصل مع مختلف أعضاء الفريق خلال هذه العملية، ومن المهم التحقق مع كل عضو من أعضاء الفريق لتأكيد استعداده للمضي قدما في الترقية. الترقية من OJS 2 إلى OJS 3 هي تغيير رئيسي يعتمد على المجلة، يمكن إشراك العديد من أصحاب المصلحة ذوي الأدوار الكبيرة أو الصغيرة في الترقية. تحقق مع كل عضو من أعضاء الفريق لتأكيد أنهم جاهزون للترقية.

## جدولة ترقية الإنتاج

بمجرد أن تكون على استعداد للمضي قدما في الترقية، تواصل مع فريق (أفرقة اليوميات):
* تاريخ الترقية
* وقت التعطيل الذي لن يكون فيه الموقع الشبكي للمجلة متاحا
* تجميد المحتوى إذا كنت توقف إنشاء/تعديل محتوى جديد قبل الترقية
* دعم الاتصالات من أجل الاستفسارات والمساعدة

إذا كانت الترقية تنطوي على وقت توقف أو تجميد لمحتوى جديد، تأكد من طلب تأكيد استلام البريد الإلكتروني بمجرد الإعلان عن التواريخ.
