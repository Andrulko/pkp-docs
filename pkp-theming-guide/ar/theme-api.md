# وثائق واجهة برمجة التطبيقات

كل موضوع يمدد الصف الأساسي [`الموضوع المساعد`](https://github.com/pkp/pkp-lib/blob/master/classes/plugins/ThemePlugin.inc.php). يحتوي هذا الفصل على عدد من الأساليب التي ستساعدك على تحميل البرامج النصية والأنماط، وتعديل ألواح الأنماط الأصلية والمزيد.

يحتوي هذا القسم على وثائق تقنية لهذه الفئة PHP. إذا كنت غير مألوفة في صف السمة ، وكيفية ارتباطه بالأنماط والنصوص النصية والقوالب، فيجب عليك [أن تبدأ هنا](what-is-a-theme.md).

## init\(\)

سيتم إعداد وتكوين السمة الخاصة بك ضمن طريقة `init()`. يتم تشغيل هذه الطريقة فقط للموضوع النشط حالياً \(أو المواضيع الرئيسية للموضوع النشط حاليا\). يجب تشغيل جميع الطرق الأخرى لـ API ضمن طريقة `init()`.

```php
/**
 * تهيئة أنماط الموضوع والنصوص البرمجية والربط. يتم تشغيل هذا فقط ل
 * الثيم النشط حاليا.
 *
 * *@return null
 */
وظيفة عامة init() {
    $this->addStyle('my-custom-style', 'styles/index.less');
}
```

## addStyle\(\)

أضف ورقة نمطية إلى السمة. اجتياز ملف `LESS` الذي سيتم تجميعه تلقائياً.

```php
دالة عامة init() {
    $this->إضافات Style('my-custom-style', 'styles/index.less');
}
```

اجتياز ملف `CSS` المجمع مسبقاً إذا كنت تفضل ذلك.

```php
دالة عامة init() {
    $this->إضافات Style('my-custom-style', 'styles/stylesheet.css');
}
```

تقبل هذه الطريقة عددا من الاختيارات `$args`.

```php
/**
 * أضف ورقة نمط للتحميل مع هذا الموضوع
 *
 * مسارات النمط مع . سيتم تجميع التمديد وإعادة توجيهه إلى
 * الملف المجمع.
 *
 * مقطع @param $name اسم لورقة الأنماط هذه
 * مقطع @param $style التي تحمل صفحة الأنماط. يجب أن يكون مسارا يتعلق بالدليل
 * الموضوع أو، إذا كانت حجة 'inline' مشمولة، بيانات النمط إلى
 * أن تكون مخرجا.
 * مجموعة الحجج الاختيارية @param $args هاش . الشريط المدعوم:
 * 'سياق': سواء تم تحميل هذا على 'الواجهة' أو 'الخلفية'.
 * الافتراضي: 'frontend'
 * 'الأولوية': التحكم بالترتيب الذي يتم فيه طباعة الأنماط
 * 'addLess': ملفات LESS إضافية للمعالجة قبل التجميع. مصفوفة
 * 'addLessVvariables': سلسلة تحتوي على متغيرات LESS إضافية إلى
 * تحليل قبل التجميع. على سبيل المثال: "@bg:#000;"
 * `inline` ما إذا كانت قيمة $style يجب أن تكون إخراج مباشرة كـ
 * بيانات النمط.
 */
وظيفة عامة إضافة ستيل($name، $style، $args = مصفوف()) { ... }
```

الأنماط مع سياق `الواجهة` ستكون إخراج في الموضوع الخاص بك حيث تضع الدالة الذكية `load_stylesheet`:

```html
{load_stylesheet context="frontend" Stylesheets=$stylesheets}
```

يمكنك تحديد السياقات المتعددة واستخدامها إذا أردت. ولكن `الواجهة` هي المعيار للمواضيع وسيتم تعيينها تلقائياً إذا لم يتم تمرير أي حجة `سياق`.

## modifyStyle\(\)

تعديل النمط الذي تم تسجيله مسبقا، مثل نمط الموضوع الأصلي. سيتم تعديل نمط `الافتراضي` بإضافة ملف `LESS` آخر لتجميعها جنباً إلى جنب معه.

```php
دالة عامة init() {
    $this->modifyStyle('default', array('addLess' => array('styles/colors.less')));
}
```

تقبل دالة `modifyStyle` مجموعة من `$args` التي تسمح لك بتعديل أي من `$args` عندما تم تسجيل النمط مع `إضافة Style()`.

```php
/**
 * تعديل البارامترات لورقة نمطية موجودة
 *
 * مقطع @param $name لتعديل
 * معلمات الصفيفة @param $args لتعديلها.
 * انظر نفسي::addStyle()
 * @return null
 */
وظيفة عامة معدلة لـ Style($name، $args = array()) { ... }
```

## إزالة Style\(\)

إزالة النمط الذي تم تسجيله مسبقا، مثل نمط الموضوع الأصلي. سيزيل التالي نمط اسمه `الافتراضي`.

```php
public function init() {
    $this->removeStyle('default');
}
```

## addScript\(\)

إضافة ملف جافا سكريبت إلى السمة.

```php
وظيفة عامة init() {
    $this->addScript('my-javascript', 'js/main.js');
}
```

تقبل هذه الطريقة عددا من الاختيارات `$args`.

```php
/**
 * أضف برنامج نصي للتحميل مع هذا الموضوع
 *
 * مقطع @param $name اسم لهذا البرنامج النصي
 * مقطع @param $script الذي سيتم تضمينه. يجب أن يكون المسار ذو الصلة
 * بالسمة أو إذا كانت حجة 'inline' مشمولة، فإن بيانات البرنامج النصي إلى
 * تكون مخرجا.
 * مجموعة الحجج الاختيارية @param $args هاش . الشريط المدعوم:
 * سلسلة `سياق` ما إذا كان سيتم تحميل هذا على `الواجهة` أو `الخلفية`.
 * الافتراضي: واجهة
 * ضوابط 'الأولوية' التي يتم فيها طباعة البرامج النصية
 * الافتراضية: STYLE_SEQUENCE_NORMAL
 * 'inline' ما إذا كان يجب أن تكون قيمة $script إخراج مباشرة كـ
 * بيانات البرنامج النصي. تستخدم لتمرير البيانات الخلفية إلى البرامج النص.
 */
الوظيفة العامة إضافة سكريبت ($name، $script، $args = المصفوفة) { ... }
```

البرامج النصية مع سياق `الواجهة` ستكون إخراج في الموضوع الخاص بك حيث تضع الدالة Smarty `load_script`:

```html
{load_script context="frontend" scripts=$scripts}
```

يمكنك تحديد السياقات المتعددة واستخدامها إذا أردت. ولكن `الواجهة` هي المعيار للمواضيع وسيتم تعيينها تلقائياً إذا لم يتم تمرير أي حجة `سياق`.

## modifyScript\(\)

تعديل النص البرمجي الذي تم تسجيله مسبقا، مثل النص النصي للموضوع الأصلي. تقبل دالة `modifyScript` مجموعة من `$args` تسمح لك بتعديل أي من `$args` عندما تم تسجيل البرنامج النصي مع `إضافة سكريبت()`.

```php
/**
 * تعديل مقاطع النص البرمجي الموجود
 *
 * مقطع @param $name لتعديل اسم البرنامج النصي
 * معلمات الصفيفة @param $args لتعديلها.
 * انظر نفسي::addScript()
 * @return null
 */
وظيفة عامة معدلة Script($name، $args = array()) { ... }
```

## removeScript\(\)

إزالة البرنامج النصي الذي تم تسجيله مسبقا، مثل النص النصي للموضوع الأصلي. سيزيل البرنامج النصي المسمى `الافتراضي`.

```php
public function init() {
    $this->removeScript('default');
}
```

## addMenuArea\(\)

يجب على السمة الخاصة بك تسجيل مناطق القائمة لعرض قوائم التنقل التي أنشأها مدير اليومية \(v3.1+\). فيما يلي سيتم تسجيل منطقة قائمة اسمها `الأساسي`.

```php
وظيفة عامة init() {
    $this->addMenuArea('preary');
}
```

بإمكانك أيضاً عبور العديد من مناطق القائمة فوراً.

```php
الدالة العامة init() {
    $this->addMenuArea(array('preary', 'user'));
}
```

## إزالةMenuArea\(\)

إزالة منطقة القائمة التي تم تسجيلها بالفعل، مثل منطقة قائمة الموضوع الأصلي. سيزيل التالي منطقة قائمة اسمها `المستخدم`.

```php
وظيفة عامة init() {
    $this->remove MenuArea('user');
}
```

## تعيين أولى\(\)

تعيين السمة الحالية لتكون سمة فرعية لموضوع آخر. تعرف على المزيد حول [المواضيع الفرعية](child-themes.md).

```php
الدالة العامة init() {
    $this->setParent('defaultthemeplugin');
}
```



