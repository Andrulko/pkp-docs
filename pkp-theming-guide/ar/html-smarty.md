# قوالب HTML/Smarty

يستخدم OJS و OMP نظام قالب [Smarty](http://www.smarty.net/) لتجميع قوالب HTML. Smarty عبارة عن صيغة خفيفة الوزن تسمح لك باستخدام منطق بسيط مثل PHP داخل قوالب HTML.

## تحديد مواقع قوالب الواجهة

كل ملف قالب مستخدم في الواجهة الأمامية سيتم العثور على المجلة العامة أو موقع الصحافة في دليل خاص يبقى منفصلا عن ملفات القالب المستخدمة لتشغيل خلفية التطبيق، واجهة التحرير. هذا يسمح لك بتخصيص الواجهة الأمامية بشكل أكثر أمانا دون التأثير على الخلفية، ويقلل إلى حد كبير من حجم العمل الذي يجب عليك القيام به لبناء سمة مخصصة.

يمكن العثور على كل قالب واجهة في أحد الأماكن القليلة

1. سيتم العثور على أي قوالب محددة لتطبيق OJS أو OMP تحت `قوالب/واجهة/` في دليل التطبيق.
2. أي قوالب مشتركة بين التطبيقين، مثل تسجيل المستخدمين والإعلانات، سوف يتم العثور عليها تحت `lib/pkp/templates/fronend`.
3. سيتم العثور على أي قوالب تجاوزها السمة الخاصة بك تحت `الإضافات/themes/<your-theme-name>/templates/fronend`.


### بنية قالب الواجهة
وينقسم كل دليل من هذه الدلائل إلى ثلاث دلائل فرعية، تخزن أنواعا محددة من النماذج.

`/templates/frontend/page`

يحتوي هذا الدليل على جميع ملفات قالب المستوى الأعلى التي يتم استدعاؤها بواسطة التطبيق. كل ملف من هذه الملفات النموذجية يمثل طلب صفحة بأكملها.

على سبيل المثال، طلب لتحميل الصفحة الرئيسية `/pages/index.tpl`. طلب لتحميل الإعلانات `/pages/announcement.tpl`.

`/templates/frontend/كائنات`

يحتوي هذا الدليل على ملفات قالب التي خريطة لعنصر بيانات معين. في OJS، ستجد قوالب لعنصر المشكلة والمقالة. في OMP ، ستجد قوالب لعنصر البحث.

يمثل كل من ملفات القالب هذه طريقة عرض خاصة لعنصر البيانات. سوف تجد `article_summary.tpl` لعرض ملخص مقالة في جدول المحتويات الخاص بالمشكلة. وستجد `article_details.tpl` لعرض عرض كامل للمادة.

`/templates/frontend/components`

يحتوي هذا الدليل على ملفات قالب تتعامل مع مكونات أو قوالب معينة من واجهة المستخدم لا تتناسب مع أماكن أخرى، مثل نماذج التنقل والبحث في متجر الخبز.

### فهم تجاوزات القالب

**السمة الافتراضية** تستخدم جميع القوالب من التطبيق الأساسي. ولكن يمكنك تجاوز أي قالب في النظام عن طريق تضمين ملف بنفس الاسم في الموضوع الخاص بك.

على سبيل المثال، إذا كنت ترغب في تجاوز `/templates/frontend/pages/article. pl` قالب في الموضوع الخاص بك، ستضيف ملف إلى `/plugins/themes/<your-theme>/templates/frontend/pages/article.tpl`.

باستخدام هذه التقنية ، يمكنك تجاوز القوالب المحددة التي تريد تجاوزها فقط. أو يمكنك استبدال كل قالب في النظام مع قالبك الخاص.

عندما يقوم OJS أو OMP بتحميل قالب، فإنه يبحث بالترتيب التالي.

1. دليل قالب الموضوع الحالي.
2. دليل قالب OJS أو OMP.
3. دليل `lib/pkp/templates/` داخل التطبيق.

إذا فشل في العثور على قالب في (1)، فإنه يبحث في (2) و ليسوون.

*يصف هذا القسم تحرير قوالب الواجهة الأمامية. نحن ننصحك **بعدم تعديل قوالب نهاية الخلفية**، ولكن إذا كنت ترغب في القيام بذلك، يمكنك معرفة المزيد عن [عرض خلفية التحرير](theme-backend.md).*

## استخدام البيانات الذكية في القوالب

كل تطبيق يقدم البيانات إلى ملف قالب قبل تحميله. كل ملف قالب يتلقى متغير `$siteTitle` الذي يتضمن اسم الموقع الذي تمت زيارته.

```html
<p>مرحبا بكم في {$siteTitle}!</p>
```

بعض البيانات التي تنقل إلى القوالب تسمح لك بالوصول إلى إعدادات الكائن. سوف تجد المجلة الحالية أو اضغط تحت متغير `$currentContext`.

```html
<p>مرحبا بكم في {$currentContext->getLocalizedName()}</p>
```

وبعض البيانات خاصة ببعض القوالب. يتلقى قالب `/frontend/pages/article.tpl` متغير `$article` الذي يمكن استخدامه للوصول إلى البيانات حول هذه المقالة.

```html
<h1 class="article-title">{$article->getLocalizedTitle()}</h1>
```

جميع قوالب الواجهة تتضمن معلومات عن المتغيرات التي يستخدمها في رأس القالب. ستجد هذه المعلومات تحت `@uses` بادئة.

```smarty
{**
 * قوالب/واجهة / صفحة/مقالة. (ل ل)
 *
 * حقوق الطبع (ج) 2014-2016 مكتبة جامعة سيمون فريزر
 * حقوق الطبع (ج) 2003-2016 جون ويلينسكي
 * موزعة في إطار GNU GPL v2. للاطلاع على كامل المصطلحات، انظر الملف docs/COPYING.
 *
 * عرض @brief للصفحة لعرض مقالة بكل تفاصيلها.
 *
 * * * تستخدم $article مقالة هذه المقالة
 * * تستخدم $issue الاصدار . المشكلة التي تم تعيينها الى
 * @uses $section قسم المجلة هذا المقالة مرتبطة بـ
 * استخدامات $journal Journal المجلة التي يتم عرضها حاليا.
 *}
```

*يرجى ملاحظة أنه ليس كل المتغير مذكور هنا. فقط تلك المتغيرات المستخدمة في هذا القالب مسجلة. ولكن هناك العديد من [متغيرات القوالب الشائعة](template-variables.md) المتاحة لك. يمكنك أيضا تحميل [بيانات مخصصة](advanced-custom-data.md).*
