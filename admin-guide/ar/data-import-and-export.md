# استيراد وتصدير البيانات

توفر أنظمة Open Journal Systems مجموعة متنوعة من الأدوات والملحقات التي تسمح لك بحقن البيانات واستخراج البيانات من OJS. ويشرح هذا الفصل كيفية استخدام أدوات وإضافات الاستيراد والتصدير. يمكن العثور على مزيد من المعلومات في كل وثائق البرنامج المساعد في الدليل المساعد OJS' \(الإضافات \).

يمكن تنفيذ معظم وظائف الاستيراد والتصدير عن طريق تسجيل الدخول كـ Journal Manager والذهاب إلى الأدوات > الاستيراد/التصدير.

![](./assets/import-export.png)

ومع ذلك، في بعض الحالات تحتاج الإضافات الاستيراد/التصدير إلى تثبيت أو تمكين أولاً تحت الإعدادات > الموقع > الإضافات. ويرد في الفروع أدناه شرح لكيفية الوصول إلى إضافات ووظائف محددة واستخدامها.

![](./assets/plugins.png)

وظيفة الاستيراد/التصدير متوفرة أيضا كأداة سطر الأوامر؛ انظر `tools/import Export.php` وقسم سطر الأوامر للمزيد من المعلومات.

## المواد والمسائل المتعلقة بالاستيراد والتصدير

يمكن استيراد المقالات والمشكلات بسرعة إلى OJS باستخدام إضافة التقديم السريع أو إضافة XML الأصلية \(سابقاً المقالات والمشكلات XML plugin\). إضافة التقديم السريع هي أداة مفيدة لاستيراد 5-10 مقالات، ولكن لعدد أكبر من المقالات والقضايا، أو إذا كان لديك بيانات التعريف الخاصة بك بتنسيق قابل للتحويل، قد ترغب في استخدام إضافة XML الأصلية.

### إرسال سريع

المكون الإضافي للإرسال السريع يسمح لك بإضافة الإرسال الكامل بسرعة إلى مشكلة. وهو يوفر عملية تقديم من خطوة واحدة للمحررين الذين يحتاجون إلى تجاوز عملية التقديم والاستعراض والتحرير التقليدية. راجع [Learning OJS 3](https://docs.pkp.sfu.ca/learning-ojs/en/tools) لمزيد من التفاصيل.

### إضافة XML الأصلية

إضافة XML الأصلية في OJS 3. يستبدل المقالات و المشكلات إضافة XML، والذي استخدم في OJS 2 لاستيراد المقالة وإصدار البيانات الوصفية إلى OJS ومنه في ملف XML.  ويمكن استخدامها في استيراد وتصدير عدد و/أو أصناف وحيدة أو متعددة، بما في ذلك بيانات فوقية شاملة. ويمكن استخدامه في الحالات التالية:

* نقل المقالة وإصدار البيانات الوصفية من مجلة OJS إلى مجلة أخرى
* نقل عدد كبير من القضايا والمقالات الخلفية إلى مكتب العدل والمساواة

لاستخدام هذه الإضافة سوف تحتاج إلى ما يلي:

* فهم أساسي لـ XML
* التسجيل كمدير لليومية في مجلة OJS

إذا كنت تستورد البيانات، قم أولاً بإنشاء ملف استيراد XML.  وفيما يلي روابط لملفات استيراد عينات XML ومخططات XML:

* نموذج ملف XML للبيانات الوصفية للمقالة: [https://github.com/pkp/ojs/blob/master/cypress/fixtures/export-issues.xml](https://github.com/pkp/ojs/blob/master/cypress/fixtures/export-issues.xml)
* عينة ملف XML لإصدار البيانات الوصفية: [https://github.com/pkp/ojs/blob/master/plugins/importexport/native/tests/functional/testissue.xml](https://github.com/pkp/ojs/blob/master/plugins/importexport/native/tests/functional/testissue.xml)
* مخطط XML للاستخدام عبر تطبيقات برنامج PKP: [https://github.com/pkp/pkp-lib/blob/master/plugins/importexport/native/pkp-native.xsd](https://github.com/pkp/pkp-lib/blob/master/plugins/importexport/native/pkp-native.xsd)
* مخطط XML للاستخدام في OJS: [https://github.com/pkp/ojs/blob/master/plugins/importexport/native/native.xsd](https://github.com/pkp/ojs/blob/master/plugins/importexport/native/native.xsd)

\* يرجى ملاحظة أن تنسيق XML المستخدم من قبل ملحق XML الأصلي لOJS 3 يختلف عن تنسيق XML للمقالات و المشكلات XML الملحق المستخدم في OJS 2.  إذا قمت بتصدير البيانات من OJS 2 وتريد استيرادها إلى OJS 3، فسيتعين عليك تعديل ملف XML أولاً. ويلاحظ أيضا أن المخطط ينقح دوريا؛ في حالة التصدير من نسخة واحدة من OJS والاستيراد إلى إصدار مختلف، قد تحتاج إلى ضبط XML قليلاً لحساب هذه التغييرات.

فيما يلي بعض الأشياء التي يجب النظر فيها:

* تأكد من تعريف نوع المستند بشكل مناسب باستخدام `<!DOCTYPE ...>`.
* ملف XML الخاص بك يجب أن ترميز UTF8.
* يجب تحديد التواريخ ك YYY-MM-DD.
* لاستيراد ملف، يمكنك استخدام `<embed>` لوضع ملف مباشرة داخل مستند XML الخاص بك، أو استخدم `<href>` للربط بواحد.
* إذا كنت تستخدم العلامة `<embed>` سوف تحتاج إلى base64-encode الملفات الخاصة بك. استخدام `<embed>` مع ملف base64-مشفر سيبدو شيئا مثل هذا: \[الشاشة مطلوبة\]
* يمكنك ربط عناوين URL الكاملة وكذلك الملفات المحلية باستخدام `<href>`. رابط URL الكامل سيبدو كما يلي: \[الشاشة مطلوبة\]
* يمكنك استخدام الربط المحلي إذا كانت الوديان الخاصة بك مخزنة بالفعل على جهاز الوجهة، ولكن في هذه الحالة تحتاج إلى تشغيل الاستيراد من سطر الأوامر. استيراد ملف محلي سيبدو كما يلي: \[أضف صورة الشاشة\]
* بعض العناصر يمكن أن تدعم علامات HTML المدمجة، مثل العنصر التجريدي. إذا قمت بتضمين HTML في المستند الخاص بك، تذكر أن تختتم HTML ضمن `<![CDATA[]]>` العلامات.
* إذا كانت جريدتك تدعم أكثر من لغة واحدة، يمكنك تضمين الشروط المترجمة في إدخال منفصل: \[screenshot\]
* إذا ارتكبت أي أخطاء مطبعية في البيانات التي تحاول استيرادها، قد ينتهي بك المطاف إلى إدخال مكررة أو مقسمة: على سبيل المثال، إذا كانت جريدتك تحتوي بالفعل على قسم "المواد" مع الأحرف الأولى للـ ART ، لكنك مخطئ في ملف XML الخاص بك `<abbrev locale="en\_US">`AR`</abbrev>` بدلاً من `<abbrev locale="en\_US">`ART`</abbrev>`، سيتم إنشاء قسم جديد للمجلة بالأحرف الأولى AR وستضاف إليه مقالة واحدة. ويمكن بسهولة تثبيت ذلك قبل الاستيراد، ولكن من الصعب تنظيفه بعد ذلك.

يجب عليك التحقق من صحة ملف XML الخاص بك قبل استيراده. إذا كنت تستخدم أداة محرر XML ، مثل Liquid XML محرر أو Oxygen XML ، يمكنك التحقق من صحة الملف هناك. إذا كان XML غير صالح ، سيتم عرض رسالة خطأ لتحديد الخط \(s\) الذي يحتوي على أخطاء.

بمجرد أن يكون لديك ملف استيراد XML صالح، يمكنك استيراده:

1. تسجيل الدخول إلى OJS كمدير جريدة
2. انتقل إلى الأدوات > استيراد/تصدير > إضافة XML الأصلية
3. تحت علامة تبويب الاستيراد، انقر فوق تحميل ملف وحدد ملف XML الخاص بك
4. انقر استيراد
5. سيتم إعلامك بأي أخطاء، أو إذا كان الاستيراد ناجحا.

![](./assets/native-xml-plugin.png)

لتصدير المقالة وإصدار بيانات التعريف باستخدام إضافة XML الأصلية:

1. تسجيل الدخول إلى OJS كمدير جريدة
2. انتقل إلى الأدوات > استيراد/تصدير > إضافة XML الأصلية
3. اعتمادا على ما إذا كنت تقوم بتصدير المقالة أو إصدار البيانات الوصفية، اذهب إلى تصدير المقالات أو علامة التبويب مشاكل التصدير
4. حدد المواد أو المشكلات التي ترغب في تصديرها عن طريق تحديد المربع بجانبها.
5. انقر تصدير
6. سيتم تصدير المقالات أو المشكلات بتنسيق XML ، ويمكن استيرادها إلى هذه المجلة أو إلى مجلة أخرى

\* يرجى ملاحظة أن استخدام هذه الإضافة لتصدير المواد والمشكلات لن يقتصر فقط على تصدير جميع البيانات الوصفية ذات الصلة. ولكن سوف تشمل جميع ملفات المقالات \(HTML, PDF, إلخ. ) متضمنة في وثيقة XML في ترميز Base64. ويمكن أن ينتج عن ذلك ملفات XML كبيرة ومرهقة، خاصة عندما يتم تصدير عدة مشكلات في وقت واحد. فتحها في محرر لعرض أو تغيير أي من بيانات XML أو بيانات التعريف قد تكون ضريبية على حاسوبك، وقد يستغرق الأمر بعض الوقت لتنزيل و/أو تحميل الملفات المذكورة، اعتماداً على اتصالك وموارد خادم المصدر.

![](./assets/native-xml-plugin-export.png)

## مستعملو الاستيراد والتصدير

يمكن استخدام إضافة XML للمستخدمين لاستيراد وتصدير المستخدمين وأدوارهم. ويمكن استخدامه في الحالات التالية:

* نقل حسابات المستخدم من مجلة OJS إلى مجلة أخرى
* نقل حسابات المستخدم من نظام آخر إلى OJS
* نقل حسابات المستخدم من OJS إلى نظام آخر
* تصدير بيانات المستخدم من OJS، وتعديلها، واستيرادها مرة أخرى إلى OJS

لاستخدام هذه الإضافة سوف تحتاج إلى ما يلي:

* فهم أساسي لـ XML
* التسجيل كمدير لليومية في مجلة OJS

إذا كنت تستورد المستخدمين إلى OJS، قم أولاً بإنشاء ملف استيراد XML.  إليك نموذج ملف استيراد XML: [https://github.com/pkp/ojs/blob/master/plugins/importexport/users/sample.xml](https://github.com/pkp/ojs/blob/master/plugins/importexport/users/sample.xml)

\* يرجى ملاحظة أن تنسيق XML المستخدم من قبل ملحق XML للمستخدمين في OJS 3 يختلف عن تنسيق XML المستخدم من قبل الملحق في OJS 2.  إذا قمت بتصدير البيانات من OJS 2 وتريد استيرادها إلى OJS 3، فسيتعين عليك تعديل ملف XML أولاً.

فيما يلي بعض الأشياء التي يجب النظر فيها:

* تأكد من تعريف نوع المستند بشكل مناسب باستخدام `<!DOCTYPE ...>`.
* ملف XML الخاص بك يجب أن ترميز UTF8.
* `<firstname>`، `<lastname>` و `<email>` إلزامي.
* إذا سمحت للنظام بإنشاء كلمات مرور للمستخدمين الذين تقوم بتحميلهم، يمكنك إختيارياً السماح للنظام بالبريد الإلكتروني للمستخدمين باستخدام بيانات اعتماد حسابهم. يمكن العثور على هذا الخيار على صفحة إضافة XML للمستخدمين \("إرسال إشعار إلكتروني إلى كل مستخدم مستورد يحتوي على اسم المستخدم وكلمة المرور الخاصة بالمستخدم."\).
* يمكنك طلب المستخدم تغيير كلمة المرور الخاصة به عند تسجيل الدخول القادم عن طريق تعيين سمة كلمة المرور "تغيير" إلى "true": `<password must\_change="true">`myoldpassword`</password>`
* تشفير كلمة المرور الافتراضي هو "plaintext" \(ie., none\). تفترض المشفرة أنه تم تشفيره بواسطة `المصادقة::encryptCredentials()` وتستخدم نفس خوارزمية التشفير التي يستخدمها النظام.
* إذا كان الملف المستورد يحتوي على أي أسماء مستخدمين أو عناوين بريد إلكتروني موجودة بالفعل في النظام، لن يتم استيراد بيانات المستخدم لهؤلاء المستخدمين وسيتم تعيين أي أدوار جديدة للمستخدمين الحاليين.

يجب عليك التحقق من صحة ملف XML الخاص بك قبل استيراده. إذا كنت تستخدم أداة محرر XML ، مثل Liquid XML محرر أو Oxygen XML ، يمكنك التحقق من صحة الملف هناك.  إذا كان XML غير صالح ، سيتم عرض رسالة خطأ لتحديد الخط \(s\) الذي يحتوي على أخطاء.

بمجرد أن يكون لديك ملف استيراد XML صالح، يمكنك استيراده:

1. تسجيل الدخول إلى OJS كمدير جريدة
2. الذهاب إلى الأدوات > استيراد/تصدير > إضافة XML للمستخدمين
3. تحت علامة التبويب للمستخدمين، انقر فوق تحميل ملف وحدد ملف XML الخاص بك
4. انقر فوق استيراد المستخدمين
5. سيتم إعلامك بأي أخطاء، أو إذا كان الاستيراد ناجحا.

![](./assets/users-xml-plugin-import.png)

لتصدير حسابات المستخدم باستخدام إضافة XML للمستخدمين:

1. تسجيل الدخول إلى OJS كمدير جريدة
2. الذهاب إلى الأدوات > استيراد/تصدير > إضافة XML للمستخدمين
3. حدد حسابات المستخدم التي ترغب في تصديرها عن طريق تحديد المربع بجانبها.
4. انقر فوق تصدير المستخدمين
5. سيتم تصدير حسابات المستخدم بتنسيق XML ، ويمكن استيرادها إلى هذه المجلة أو أي مجلة أخرى

![](./assets/users-xml-plugin-export.png)

## تصدير البيانات الفوقية إلى المواقع الخارجية وخدمات الفهرسة

لدى OJS إضافات تسمح لك بتصدير البيانات الوصفية للمقالات إلى مواقع خارجية وخدمات فهرسة متوافقة مع تنسيقها.

### إضافة تصدير PubMed XML

يسمح لك البرنامج الإضافي لتصدير XMD XML بتصدير بيانات التعريف كملف XML بتنسيق NLM PubMed/MEDLINE. لمزيد من المعلومات حول البرنامج المساعد، انظر ملف README الخاص به: [https://github.com/pkp/ojs/tree/master/plugins/importexport/pubmed](https://github.com/pkp/ojs/tree/master/plugins/importexport/pubmed)

### إضافة تصدير/تسجيل البيانات

يسمح لك البرنامج المساعد للتصدير والتسجيل الخاص بـ DataCite بتصدير البيانات الوصفية للمقالات والوادي والملفات التكميلية في تنسيق DataCite وتسجيل DOIs باستخدام DataCite. لمزيد من المعلومات حول البرنامج المساعد، انظر ملف README الخاص به: [https://github.com/pkp/ojs/blob/master/plugins/importexport/datacite/README](https://github.com/pkp/ojs/blob/master/plugins/importexport/datacite/README)

### إضافة تصدير DOAJ

إذا تم فهرسة مجلتك بواسطة دليل "فتح الوصول Journal" \(DOAJ\)، يمكنك تصدير عدد المجلة والبيانات الوصفية الخاصة بك إلى DOAJ إما يدوياً باستخدام إضافة DOAJ Export plugin أو تلقائياً باستخدام DOAJ API.

لتصدير البيانات الوصفية اليومية تلقائياً إلى DOAJ:

1. احصل على مفتاح API من DOAJ عن طريق الذهاب إلى [https://doaj.org/](https://doaj.org/)، تسجيل الدخول والتحقق من رقم العضوية الخاص بك.
2. تسجيل الدخول إلى OJS كمدير جريدة
3. انتقل إلى الأدوات > استيراد/تصدير > DOAJ تصدير الإضافة
4. تحت علامة تبويب الإعدادات، أدخل مفتاح API DOAJ
5. تحقق من "سيقوم OJS بإيداع المقالات تلقائياً إلى DOAJ. يرجى ملاحظة أن هذه العملية قد تستغرق وقتا قصيرا بعد النشر. ويمكنكم التحقق من جميع المواد غير المسجلة“.
6. انقر حفظ

لتصدير البيانات الوصفية للمقالات يدويا إلى DOAJ:

1. تسجيل الدخول إلى OJS كمدير جريدة
2. انتقل إلى الأدوات > استيراد/تصدير > DOAJ تصدير الإضافة
3. الذهاب إلى علامة التبويب المقالات
4. حدد المقالات التي تريد تصديرها.  ولا بد من نشرها.
5. انقر تصدير
6. قم بزيارة [https://doaj.org/](https://doaj.org/) وتسجيل الدخول لتحميل ملف XML الذي تم إنشاؤه أثناء عملية التصدير

### إضافة تصدير عبر XML

يسمح لك البرنامج الإضافي لتصدير XML بتصدير البيانات الوصفية المقالة تلقائياً ويدوياً في تنسيق Crossref XML لتوديعها مع Crossref.  للحصول على معلومات حول كيفية استخدام هذه الإضافة، انظر Crossref OJS Manual: [http://docs.pkp.sfu.ca/crossref-ojs-manual/](http://docs.pkp.sfu.ca/crossref-ojs-manual/)

### ملديرا للتصدير/التسجيل المساعد

إضافة mEDRA للتصدير/التسجيل تسمح لك بتصدير المشكلة، المقالة، والبيانات الوصفية الخاصة بالوادي في Onix لـ DOI \(O4DOI\) تنسيق وتسجيل DOIs لدى وكالة تسجيل mEDRA.  للحصول على معلومات حول كيفية استخدام الإضافة، انظر ملف README الخاص بها: [https://github.com/pkp/ojs/blob/master/plugins/importexport/medra/README](https://github.com/pkp/ojs/blob/master/plugins/importexport/medra/README)

## استخدام إضافات الاستيراد/التصدير من سطر الأوامر

يمكن عادة تشغيل إضافات الاستيراد/التصدير من سطر الأوامر. يمكنك عرض أسماء الإضافات المنطبقة عن طريق تشغيل الأمر التالي:

```
أدوات php / الاستيراد.php
```

يمكنك رؤية معلمات الاستخدام عن طريق تشغيل الأمر التالي:

```
أدوات php/importExport.php \[PluginName\] استخدام
```

## استيراد وتصدير استكشاف الأخطاء

> _"لقد قمت باستيراد ملف XML الخاص بي وأنا أحصل على رسالة خطأ."_

هل قمت بالتحقق من صحة ملف XML الخاص بك قبل استيراده؟  إذا لم تفعل ذلك، قم بتشغيله من خلال مدقق في محرر أو متصفح XML الخاص بك والمتحقق سوف يشير إلى الخطأ في الملف.

> _"عندما أنقر على زر التصدير أحصل على صفحة فارغة بدلاً من قائمة بيانات للتصدير."_

يجب عليك التحقق من ملف الخطأ \_log للعثور على الخطأ الذي وقع بالضبط.
