# التثبيت والإعداد

يدعم البرنامج المساعد لملف ORCID في OJS كلا من واجهة برمجة التطبيقات العامة والأعضاء في كل من صندوق الرمل (الاختبار) وبيئتي الإنتاج. لاستخدام الإضافة، يحتاج الناشر أولاً إلى الحصول على بيانات اعتماد API ORCID ثم تكوين البرنامج المساعد لملف ORCID في OJS بهذه المعلومات.

يجب أن يقوم الناشرون أولاً باختبار الإضافة في بيئة صندوق الرمل. يسمح صندوق الرمل بإنشاء حسابات المستخدم التجريبية واستخدام المكون الإضافي دون الحاجة إلى القلق بشأن التأثير على البيانات الحية (الإنتاج) سجل ORCID. بمجرد أن تعمل الإضافة كما هو متوقع في بيئة صندوق الرمال، يمكن للناشرين الحصول على بيانات الاعتماد والانتقال إلى بيئة الإنتاج.

## تطبيقات ORCID ووظائف المكونات الإضافية

يجب أن يكون لدى الناشرين بيانات اعتماد ORCID API من أجل استخدام البرنامج المساعد لملف ORCID في OJS. يوفر ORCID اثنين من التطبيقات المختلفة:
- API العامة: مجانية ومتاحة لأي شخص. وهو يسمح لأي شخص بالحصول على جهاز iD موثق وقراءة البيانات العامة.
- عضو API: يتطلب العضوية المؤسسية لـ ORCID. وبالإضافة إلى وظائف API العامة، يسمح للأعضاء بقراءة بيانات "الأطراف الموثوقة" وإضافة/تحديث بيانات سجلات ORCID.

يمكن لليوميات التي تستخدم واجهة برمجة التطبيقات العامة جمع وعرض iDs للمؤلفين والمؤلفين المصدق عليها على ملف OJS وصفحة المقالات. كما يقوم البرنامج المساعد بتضمين iD في البيانات الوصفية للمقال.

![صورة لليومية تعرض iDs مصادقة في صفحة المقالة](./assets/orcid-id-example.png)*مثال لمجلة تعرض أجهزة iDs مصادقة في صفحة المقال*

![صورة لـ ORCID iD المعروضة على الصفحة الشخصية OJS](./assets/user-profile-example.png)*مثال على ORCID iD المعروض على صفحة الملف الشخصي OJS*

يمكن لليوميات التي تستخدم API الأعضاء جمع وعرض iDs المؤلفين والمؤلفين المعتمدين على ملف OJS وصفحة المقال. كما يقوم API بتضمين الـ iD في البيانات الوصفية للمقال. وبالإضافة إلى ذلك، تُدفع البيانات الوصفية للمقالات تلقائياً إلى سجلات ORCID. وسيكون مصدر المعلومات هو اسم المنظمة أو الصحيفة.

![صورة البيانات الوصفية للمقالة](./assets/orcid-article-metadata.png)

وتظهر تغييرات البيانات الوصفية في مقالة OJS تلقائيا في سجل ORCID.

من الممكن استخدام كلاً من واجهة برمجة التطبيقات في بيئة الإنتاج (سجل مع ORCID iDs) أو في بيئة صندوق الرمل (اختبار iDs).

## الحصول على بيانات اعتماد ORCID

### API عام
بيانات اعتماد API العامة متصلة بـ ORCID iDs فردية. للحصول على بيانات اعتماد API العامة للإنتاج، قم بتسجيل الدخول إلى سجل ORCID الخاص بك، انتقل إلى علامة التبويب "أدوات المطور"، وأكمل [النموذج](https://support.orcid.org/hc/en-us/articles/360006897174-Register-a-public-API-client-application). بعد النقر على الحفظ، سيتم إنشاء معرف العميل وسر العميل.

للحصول على بيانات اعتماد API العامة، قم بالتسجيل في Sandbox ORCID iD، قم بتسجيل الدخول إلى سجل Sandbox ORCID الخاص بك، انتقل إلى علامة التبويب "أدوات المطور"، وأكمل [النموذج](https://support.orcid.org/hc/en-us/articles/360006897174-Register-a-public-API-client-application). بعد النقر على الحفظ، سيتم إنشاء معرف العميل وسرية العميل.

### API عضو
قبل إصدار بيانات اعتماد الإنتاج، يجب على الناشرين توفير عرض تجريبي للملحق الذي يعمل في بيئة Sandbox هذا يساعد ORCID على تأكيد أنك تتبع [أفضل الممارسات](https://members.orcid.org/api/member-api-credentials-check-list) الخاصة بها.

للحصول على بيانات اعتماد API الأعضاء في Sandbox اكمل [النموذج](https://orcid.org/content/register-client-application-sandbox). بيانات اعتماد أعضاء الإنتاج API مرتبطة بالمنظمات ويمكن طلبها عن طريق إكمال [النموذج](https://orcid.org/content/register-client-application-production-trusted-party).

### إعادة توجيه ORCID
إعادة توجيه URL(s) مسموح به في المجلات الخاصة بك حيث سيتم إرسال المستخدمين بعد أن يأذنوا بالوصول إلى بيانات سجل ORCID الخاصة بهم.

عند تسجيل إعادة توجيه URIs لعميل الـ ORCID API الخاص بك، يمكنك اختيار أي من التسجيل:
1. المواقع المحددة التي سيتم توجيه المستخدمين إليها - على سبيل المثال https://forum.pkp.sfu.ca/t/orcid-oauth2-redirect-uris-or-callback-urls-for-ojs أو
2. اسم المضيف لنظام OJS الخاص بك - على سبيل المثال https://forum.pkp.sfu.ca

يتيح خيار المضيف استخدام أي URI تحت ذلك المضيف كإعادة توجيه URI.

لمزيد من التفاصيل حول إعادة توجيه URIs انظر صفحة دعم ORCID ل [APIs العام](https://support.orcid.org/hc/en-us/articles/360006897174-Register-a-public-API-client-application) و [APIs الأعضاء](https://support.orcid.org/hc/en-us/articles/360006973913)، على التوالي، و [إعادة توجيه موضوع URI على منتدى PKP](https://forum.pkp.sfu.ca/t/orcid-oauth2-redirect-uris-or-callback-urls-for-ojs).

## تمكين وتكوين البرنامج المساعد للملف الشخصي ORCID في OJS

بعد حصولك على مفتاح API من ORCID، يمكنك تمكين وتكوين الإضافة في OJS.

### الإعداد لكل يومية
1. الذهاب إلى إعدادات الموقع > الإضافات
2. تحت الإضافات المثبتة تجد البرنامج المساعد ORCID
3. انقر على المربع إلى يمين اسم المكون الإضافي لتمكينه
4. انقر فوق السهم الأزرق إلى يسار اسم الإضافة لجعل "الإعدادات" ظاهرة، ثم فتح الإعدادات. أدخل معلومات حول بيانات اعتماد الـ ORCID الخاصة بك.

### الإعداد على نطاق الموقع
بالنسبة لتثبيت المجلات المتعددة، يمكن تعيين هذا على مستوى الموقع في `config.inc.php`. هذا يخفي سر العميل من مجلة مدراء المدراء، التي قد تكون مفضلة إذا كان لديك مؤهلات مؤسسية لـ ORCID. أضف القسم التالي إلى ملف `config.inc.php` الخاص بك:

```
;;;;;;;;;
; ORCID ;
;;;;;;;;;

[orcid]

api_url = https://api.sandbox.orcid.org/
client_id = APP-YOURID
client_secret = yourclientsecret
```

لاحظ أن `api_url` بحاجة إلى أن ينتهي ببطء متقطع.

### المزيد من إعدادات الإضافات
تحت "إعدادات البريد الإلكتروني" يمكنك وضع علامة في مربع الاختيار على "إرسال البريد الإلكتروني لطلب إذن ORCID من مؤلفي المقالات عند نشر عدد جديد". إذا تم تحديده، سيقوم OJS بإرسال بريد إلكتروني تلقائيًا إلى المؤلفين الذين لم يربطوا مسبقاً أجهزة iD ORCID الخاصة بهم عندما يتم نشر المقالة يطلب منهم ربط أجهزة iDs الخاصة بهم.

![صورة تكوين المكون الإضافي](./assets/configure-orcid-plugin.png)

سيتم إرسال هذا الطلب باستخدام قالب البريد الإلكتروني "ORCID Collect Author Id" (عام) أو "ORCID Request Author Author" (عضو API).
